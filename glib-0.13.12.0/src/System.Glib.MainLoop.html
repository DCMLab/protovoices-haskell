<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LINE 2 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- -*-haskell-*-</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- GIMP Toolkit (GTK) General</span><span>
</span><span id="line-4"></span><span class="hs-comment">--</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Author : Axel Simon, Manuel M. T. Chakravarty, Duncan Coutts</span><span>
</span><span id="line-6"></span><span class="hs-comment">--</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Created: 11 October 2005</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Copyright (C) 2000..2005 Axel Simon, Manuel M. T. Chakravarty, Duncan Coutts</span><span>
</span><span id="line-10"></span><span class="hs-comment">--</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- This library is free software; you can redistribute it and/or</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- modify it under the terms of the GNU Lesser General Public</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- License as published by the Free Software Foundation; either</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- version 2.1 of the License, or (at your option) any later version.</span><span>
</span><span id="line-15"></span><span class="hs-comment">--</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- This library is distributed in the hope that it will be useful,</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- but WITHOUT ANY WARRANTY; without even the implied warranty of</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- Lesser General Public License for more details.</span><span>
</span><span id="line-20"></span><span class="hs-comment">--</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- Maintainer : gtk2hs-users@lists.sourceforge.net</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- Stability : provisional</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- Portability : portable (depends on GHC)</span><span>
</span><span id="line-25"></span><span class="hs-comment">--</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- main event loop, and events</span><span>
</span><span id="line-27"></span><span class="hs-comment">--</span><span>
</span><span id="line-28"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html"><span class="hs-identifier">System.Glib.MainLoop</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier">HandlerId</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#timeoutAdd"><span class="hs-identifier">timeoutAdd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#timeoutAddFull"><span class="hs-identifier">timeoutAddFull</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#timeoutRemove"><span class="hs-identifier">timeoutRemove</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#idleAdd"><span class="hs-identifier">idleAdd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#idleRemove"><span class="hs-identifier">idleRemove</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#IOCondition"><span class="hs-identifier">IOCondition</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#inputAdd"><span class="hs-identifier">inputAdd</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#inputRemove"><span class="hs-identifier">inputRemove</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#Priority"><span class="hs-identifier">Priority</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#priorityLow"><span class="hs-identifier">priorityLow</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#priorityDefaultIdle"><span class="hs-identifier">priorityDefaultIdle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#priorityHighIdle"><span class="hs-identifier">priorityHighIdle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#priorityDefault"><span class="hs-identifier">priorityDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#priorityHigh"><span class="hs-identifier">priorityHigh</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier">MainLoop</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopNew"><span class="hs-identifier">mainLoopNew</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopRun"><span class="hs-identifier">mainLoopRun</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopQuit"><span class="hs-identifier">mainLoopQuit</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopIsRunning"><span class="hs-identifier">mainLoopIsRunning</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier">MainContext</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#mainContextNew"><span class="hs-identifier">mainContextNew</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#mainContextDefault"><span class="hs-identifier">mainContextDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#mainContextIteration"><span class="hs-identifier">mainContextIteration</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#mainContextFindSourceById"><span class="hs-identifier">mainContextFindSourceById</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier">Source</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#sourceAttach"><span class="hs-identifier">sourceAttach</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#sourceSetPriority"><span class="hs-identifier">sourceSetPriority</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#sourceGetPriority"><span class="hs-identifier">sourceGetPriority</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#sourceDestroy"><span class="hs-identifier">sourceDestroy</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#sourceIsDestroyed"><span class="hs-identifier">sourceIsDestroyed</span></a></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftM</span></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="System.Glib.FFI.html"><span class="hs-identifier">System.Glib.FFI</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="System.Glib.Flags.html"><span class="hs-identifier">System.Glib.Flags</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="System.Glib.GObject.html"><span class="hs-identifier">System.Glib.GObject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.GObject.html#DestroyNotify"><span class="hs-identifier">DestroyNotify</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Glib.GObject.html#destroyFunPtr"><span class="hs-identifier">destroyFunPtr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-pragma">{-# LINE 71 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-keyword">type</span><span> </span><span id="SourceFunc"><span class="annot"><a href="System.Glib.MainLoop.html#SourceFunc"><span class="hs-identifier hs-var">SourceFunc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-pragma">{-# LINE 73 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-string">&quot;wrapper&quot;</span></span><span> </span><span id="mkSourceFunc"><span class="annot"><a href="System.Glib.MainLoop.html#mkSourceFunc"><span class="hs-identifier hs-var">mkSourceFunc</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#SourceFunc"><span class="hs-identifier hs-type">SourceFunc</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span class="hs-keyword">type</span><span> </span><span id="HandlerId"><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier hs-var">HandlerId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CUInt</span></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="hs-pragma">{-# LINE 77 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- Turn a function into a function pointer and a destructor pointer.</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="annot"><a href="System.Glib.MainLoop.html#makeCallback"><span class="hs-identifier hs-type">makeCallback</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#SourceFunc"><span class="hs-identifier hs-type">SourceFunc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Glib.GObject.html#DestroyNotify"><span class="hs-identifier hs-type">DestroyNotify</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span id="makeCallback"><span class="annot"><span class="annottext">makeCallback :: IO CInt -&gt; IO (SourceFunc, DestroyNotify)
</span><a href="System.Glib.MainLoop.html#makeCallback"><span class="hs-identifier hs-var hs-var">makeCallback</span></a></span></span><span> </span><span id="local-6989586621679080893"><span class="annot"><span class="annottext">IO CInt
</span><a href="#local-6989586621679080893"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-82"></span><span>  </span><span id="local-6989586621679080894"><span class="annot"><a href="#local-6989586621679080894"><span class="hs-identifier hs-var">funPtr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Ptr () -&gt; IO CInt) -&gt; IO SourceFunc
</span><a href="System.Glib.MainLoop.html#mkSourceFunc"><span class="hs-identifier hs-var">mkSourceFunc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO CInt -&gt; Ptr () -&gt; IO CInt
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">IO CInt
</span><a href="#local-6989586621679080893"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679080894"><span class="hs-identifier hs-type">funPtr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Glib.GObject.html#destroyFunPtr"><span class="hs-identifier hs-type">destroyFunPtr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-comment">-- | Sets a function to be called at regular intervals, with the default</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- priority 'priorityDefault'. The function is called repeatedly until it</span><span>
</span><span id="line-87"></span><span class="hs-comment">-- returns @False@, after which point the timeout function will not be called</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- again. The first call to the function will be at the end of the first interval.</span><span>
</span><span id="line-89"></span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- Note that timeout functions may be delayed, due to the processing of other</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- event sources. Thus they should not be relied on for precise timing. After</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- each call to the timeout function, the time of the next timeout is</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- recalculated based on the current time and the given interval (it does not</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- try to 'catch up' time lost in delays).</span><span>
</span><span id="line-95"></span><span class="hs-comment">--</span><span>
</span><span id="line-96"></span><span class="annot"><a href="System.Glib.MainLoop.html#timeoutAdd"><span class="hs-identifier hs-type">timeoutAdd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier hs-type">HandlerId</span></a></span><span>
</span><span id="line-97"></span><span id="timeoutAdd"><span class="annot"><span class="annottext">timeoutAdd :: IO Bool -&gt; Priority -&gt; IO HandlerId
</span><a href="System.Glib.MainLoop.html#timeoutAdd"><span class="hs-identifier hs-var hs-var">timeoutAdd</span></a></span></span><span> </span><span id="local-6989586621679080896"><span class="annot"><span class="annottext">IO Bool
</span><a href="#local-6989586621679080896"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621679080897"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679080897"><span class="hs-identifier hs-var">msec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO Bool -&gt; Priority -&gt; Priority -&gt; IO HandlerId
</span><a href="System.Glib.MainLoop.html#timeoutAddFull"><span class="hs-identifier hs-var">timeoutAddFull</span></a></span><span> </span><span class="annot"><span class="annottext">IO Bool
</span><a href="#local-6989586621679080896"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="System.Glib.MainLoop.html#priorityDefault"><span class="hs-identifier hs-var">priorityDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679080897"><span class="hs-identifier hs-var">msec</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">-- | Sets a function to be called at regular intervals, with the given</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- priority. The function is called repeatedly until it returns @False@, after</span><span>
</span><span id="line-101"></span><span class="hs-comment">-- which point the timeout function will not be called again. The first call</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- to the function will be at the end of the first interval.</span><span>
</span><span id="line-103"></span><span class="hs-comment">--</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- Note that timeout functions may be delayed, due to the processing of other</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- event sources. Thus they should not be relied on for precise timing. After</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- each call to the timeout function, the time of the next timeout is</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- recalculated based on the current time and the given interval (it does not</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- try to 'catch up' time lost in delays).</span><span>
</span><span id="line-109"></span><span class="hs-comment">--</span><span>
</span><span id="line-110"></span><span class="annot"><a href="System.Glib.MainLoop.html#timeoutAddFull"><span class="hs-identifier hs-type">timeoutAddFull</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier hs-type">HandlerId</span></a></span><span>
</span><span id="line-111"></span><span id="timeoutAddFull"><span class="annot"><span class="annottext">timeoutAddFull :: IO Bool -&gt; Priority -&gt; Priority -&gt; IO HandlerId
</span><a href="System.Glib.MainLoop.html#timeoutAddFull"><span class="hs-identifier hs-var hs-var">timeoutAddFull</span></a></span></span><span> </span><span id="local-6989586621679080898"><span class="annot"><span class="annottext">IO Bool
</span><a href="#local-6989586621679080898"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621679080899"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679080899"><span class="hs-identifier hs-var">pri</span></a></span></span><span> </span><span id="local-6989586621679080900"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679080900"><span class="hs-identifier hs-var">msec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679080901"><span class="annot"><a href="#local-6989586621679080901"><span class="hs-identifier hs-var">funPtr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679080902"><span class="annot"><a href="#local-6989586621679080902"><span class="hs-identifier hs-var">dPtr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO CInt -&gt; IO (SourceFunc, DestroyNotify)
</span><a href="System.Glib.MainLoop.html#makeCallback"><span class="hs-identifier hs-var">makeCallback</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Bool -&gt; CInt) -&gt; IO Bool -&gt; IO CInt
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; CInt
forall a. Num a =&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">fromBool</span></span><span> </span><span class="annot"><span class="annottext">IO Bool
</span><a href="#local-6989586621679080898"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#g_timeout_add_full"><span class="hs-identifier hs-type">g_timeout_add_full</span></a></span><span>
</span><span id="line-114"></span><span class="hs-pragma">{-# LINE 114 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-identifier">pri</span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">fromIntegral</span></span><span> </span><span class="annot"><a href="#local-6989586621679080900"><span class="hs-identifier hs-type">msec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>    </span><span class="annot"><a href="#local-6989586621679080901"><span class="hs-identifier hs-type">funPtr</span></a></span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">castFunPtrToPtr</span></span><span> </span><span class="annot"><a href="#local-6989586621679080901"><span class="hs-identifier hs-type">funPtr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>    </span><span class="annot"><a href="#local-6989586621679080902"><span class="hs-identifier hs-type">dPtr</span></a></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | Remove a previously added timeout handler by its 'HandlerId'.</span><span>
</span><span id="line-121"></span><span class="hs-comment">--</span><span>
</span><span id="line-122"></span><span class="annot"><a href="System.Glib.MainLoop.html#timeoutRemove"><span class="hs-identifier hs-type">timeoutRemove</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier hs-type">HandlerId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span id="timeoutRemove"><span class="annot"><span class="annottext">timeoutRemove :: HandlerId -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#timeoutRemove"><span class="hs-identifier hs-var hs-var">timeoutRemove</span></a></span></span><span> </span><span id="local-6989586621679080906"><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679080906"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HandlerId -&gt; IO CInt
</span><a href="System.Glib.MainLoop.html#g_source_remove"><span class="hs-identifier hs-var">g_source_remove</span></a></span><span> </span><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679080906"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">IO CInt -&gt; IO () -&gt; IO ()
forall a b. IO a -&gt; IO b -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- | Add a callback that is called whenever the system is idle.</span><span>
</span><span id="line-126"></span><span class="hs-comment">--</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- * A priority can be specified via an integer. This should usually be</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- 'priorityDefaultIdle'.</span><span>
</span><span id="line-129"></span><span class="hs-comment">--</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- * If the function returns @False@ it will be removed.</span><span>
</span><span id="line-131"></span><span class="hs-comment">--</span><span>
</span><span id="line-132"></span><span class="annot"><a href="System.Glib.MainLoop.html#idleAdd"><span class="hs-identifier hs-type">idleAdd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier hs-type">HandlerId</span></a></span><span>
</span><span id="line-133"></span><span id="idleAdd"><span class="annot"><span class="annottext">idleAdd :: IO Bool -&gt; Priority -&gt; IO HandlerId
</span><a href="System.Glib.MainLoop.html#idleAdd"><span class="hs-identifier hs-var hs-var">idleAdd</span></a></span></span><span> </span><span id="local-6989586621679080908"><span class="annot"><span class="annottext">IO Bool
</span><a href="#local-6989586621679080908"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621679080909"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679080909"><span class="hs-identifier hs-var">pri</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679080910"><span class="annot"><a href="#local-6989586621679080910"><span class="hs-identifier hs-var">funPtr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679080911"><span class="annot"><a href="#local-6989586621679080911"><span class="hs-identifier hs-var">dPtr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO CInt -&gt; IO (SourceFunc, DestroyNotify)
</span><a href="System.Glib.MainLoop.html#makeCallback"><span class="hs-identifier hs-var">makeCallback</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Bool -&gt; CInt) -&gt; IO Bool -&gt; IO CInt
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; CInt
forall a. Num a =&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">fromBool</span></span><span> </span><span class="annot"><span class="annottext">IO Bool
</span><a href="#local-6989586621679080908"><span class="hs-identifier hs-var">fun</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><a href="System.Glib.MainLoop.html#g_idle_add_full"><span class="hs-identifier hs-type">g_idle_add_full</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">fromIntegral</span></span><span> </span><span class="annot"><a href="#local-6989586621679080909"><span class="hs-identifier hs-type">pri</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679080910"><span class="hs-identifier hs-type">funPtr</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">castFunPtrToPtr</span></span><span> </span><span class="annot"><a href="#local-6989586621679080910"><span class="hs-identifier hs-type">funPtr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679080911"><span class="hs-identifier hs-type">dPtr</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- | Remove a previously added idle handler by its 'HandlerId'.</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="annot"><a href="System.Glib.MainLoop.html#idleRemove"><span class="hs-identifier hs-type">idleRemove</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier hs-type">HandlerId</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span id="idleRemove"><span class="annot"><span class="annottext">idleRemove :: HandlerId -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#idleRemove"><span class="hs-identifier hs-var hs-var">idleRemove</span></a></span></span><span> </span><span id="local-6989586621679080913"><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679080913"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HandlerId -&gt; IO CInt
</span><a href="System.Glib.MainLoop.html#g_source_remove"><span class="hs-identifier hs-var">g_source_remove</span></a></span><span> </span><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679080913"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">IO CInt -&gt; IO () -&gt; IO ()
forall a b. IO a -&gt; IO b -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">-- | Flags representing a condition to watch for on a file descriptor.</span><span>
</span><span id="line-144"></span><span class="hs-comment">--</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- [@IOIn@] There is data to read.</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- [@IOOut@] Data can be written (without blocking).</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- [@IOPri@] There is urgent data to read.</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- [@IOErr@] Error condition.</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- [@IOHup@] Hung up (the connection has been broken, usually for</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- pipes and sockets).</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- [@IOInvalid@] Invalid request. The file descriptor is not open.</span><span>
</span><span id="line-152"></span><span class="hs-comment">--</span><span>
</span><span id="line-153"></span><span class="hs-keyword">data</span><span> </span><span id="IOCondition"><span class="annot"><a href="System.Glib.MainLoop.html#IOCondition"><span class="hs-identifier hs-var">IOCondition</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="IOIn"><span class="annot"><a href="System.Glib.MainLoop.html#IOIn"><span class="hs-identifier hs-var">IOIn</span></a></span></span><span>
</span><span id="line-154"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span id="IOOut"><span class="annot"><a href="System.Glib.MainLoop.html#IOOut"><span class="hs-identifier hs-var">IOOut</span></a></span></span><span>
</span><span id="line-155"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span id="IOPri"><span class="annot"><a href="System.Glib.MainLoop.html#IOPri"><span class="hs-identifier hs-var">IOPri</span></a></span></span><span>
</span><span id="line-156"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span id="IOErr"><span class="annot"><a href="System.Glib.MainLoop.html#IOErr"><span class="hs-identifier hs-var">IOErr</span></a></span></span><span>
</span><span id="line-157"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span id="IOHup"><span class="annot"><a href="System.Glib.MainLoop.html#IOHup"><span class="hs-identifier hs-var">IOHup</span></a></span></span><span>
</span><span id="line-158"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span id="IOInvalid"><span class="annot"><a href="System.Glib.MainLoop.html#IOInvalid"><span class="hs-identifier hs-var">IOInvalid</span></a></span></span><span>
</span><span id="line-159"></span><span>                 </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679080921"><span id="local-6989586621679080926"><span class="annot"><span class="annottext">IOCondition -&gt; IOCondition -&gt; Bool
(IOCondition -&gt; IOCondition -&gt; Bool)
-&gt; (IOCondition -&gt; IOCondition -&gt; Bool) -&gt; Eq IOCondition
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: IOCondition -&gt; IOCondition -&gt; Bool
== :: IOCondition -&gt; IOCondition -&gt; Bool
$c/= :: IOCondition -&gt; IOCondition -&gt; Bool
/= :: IOCondition -&gt; IOCondition -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679080931"><span id="local-6989586621679080933"><span class="annot"><span class="annottext">IOCondition
IOCondition -&gt; IOCondition -&gt; Bounded IOCondition
forall a. a -&gt; a -&gt; Bounded a
$cminBound :: IOCondition
minBound :: IOCondition
$cmaxBound :: IOCondition
maxBound :: IOCondition
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Bounded</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOCondition"><span class="hs-identifier hs-type">IOCondition</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-identifier">fromEnum</span><span> </span><span class="hs-identifier">IOIn</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-identifier">fromEnum</span><span> </span><span class="hs-identifier">IOOut</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">4</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-identifier">fromEnum</span><span> </span><span class="hs-identifier">IOPri</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">2</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-identifier">fromEnum</span><span> </span><span class="hs-identifier">IOErr</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">8</span><span>
</span><span id="line-165"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOHup"><span class="hs-identifier hs-type">IOHup</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">16</span></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-identifier">fromEnum</span><span> </span><span class="hs-identifier">IOInvalid</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">32</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var hs-var">toEnum</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOIn"><span class="hs-identifier hs-type">IOIn</span></a></span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOOut"><span class="hs-identifier hs-type">IOOut</span></a></span><span>
</span><span id="line-170"></span><span>  </span><span class="hs-identifier">toEnum</span><span> </span><span class="hs-number">2</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IOPri</span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="hs-number">8</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOErr"><span class="hs-identifier hs-type">IOErr</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="hs-number">16</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOHup"><span class="hs-identifier hs-type">IOHup</span></a></span><span>
</span><span id="line-173"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="hs-number">32</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOInvalid"><span class="hs-identifier hs-type">IOInvalid</span></a></span><span>
</span><span id="line-174"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span id="local-6989586621679080955"><span class="annot"><a href="#local-6989586621679080955"><span class="hs-identifier hs-var">unmatched</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">error</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;IOCondition.toEnum: Cannot match &quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">show</span></span><span> </span><span class="annot"><a href="#local-6989586621679080955"><span class="hs-identifier hs-type">unmatched</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span>  </span><span id="local-6989586621679080960"><span class="annot"><span class="annottext">succ :: IOCondition -&gt; IOCondition
</span><a href="#local-6989586621679080960"><span class="hs-identifier hs-var hs-var hs-var">succ</span></a></span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOIn"><span class="hs-identifier hs-var">IOIn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOOut"><span class="hs-identifier hs-var">IOOut</span></a></span><span>
</span><span id="line-177"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">succ</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOOut"><span class="hs-identifier hs-var">IOOut</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOPri"><span class="hs-identifier hs-var">IOPri</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">succ</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOPri"><span class="hs-identifier hs-var">IOPri</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOErr"><span class="hs-identifier hs-var">IOErr</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">succ</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOErr"><span class="hs-identifier hs-var">IOErr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOHup"><span class="hs-identifier hs-var">IOHup</span></a></span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">succ</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOHup"><span class="hs-identifier hs-var">IOHup</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="System.Glib.MainLoop.html#IOInvalid"><span class="hs-identifier hs-var">IOInvalid</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">succ</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOCondition
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var hs-var">pred</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOOut"><span class="hs-identifier hs-type">IOOut</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOIn"><span class="hs-identifier hs-type">IOIn</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOPri"><span class="hs-identifier hs-type">IOPri</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOOut"><span class="hs-identifier hs-type">IOOut</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOErr"><span class="hs-identifier hs-type">IOErr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOPri"><span class="hs-identifier hs-type">IOPri</span></a></span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOHup"><span class="hs-identifier hs-type">IOHup</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOErr"><span class="hs-identifier hs-type">IOErr</span></a></span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOInvalid"><span class="hs-identifier hs-type">IOInvalid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOHup"><span class="hs-identifier hs-type">IOHup</span></a></span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">pred</span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">undefined</span></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span>  </span><span id="local-6989586621679080970"><span class="annot"><span class="annottext">enumFromTo :: IOCondition -&gt; IOCondition -&gt; [IOCondition]
</span><span class="hs-identifier hs-var hs-var hs-var">enumFromTo</span></span></span><span> </span><span id="local-6989586621679080971"><span class="annot"><span class="annottext">IOCondition
</span><a href="#local-6989586621679080971"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679080972"><span class="annot"><span class="annottext">IOCondition
</span><a href="#local-6989586621679080972"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">IOCondition -&gt; Priority
forall a. Enum a =&gt; a -&gt; Priority
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="#local-6989586621679080971"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Priority -&gt; Priority -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">IOCondition -&gt; Priority
forall a. Enum a =&gt; a -&gt; Priority
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="#local-6989586621679080972"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><a href="#local-6989586621679080972"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-191"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679080971"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">enumFromTo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">succ</span></span><span> </span><span class="annot"><a href="#local-6989586621679080971"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679080972"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-identifier">enumFrom</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">enumFromTo</span><span> </span><span class="hs-identifier">x</span><span> </span><span class="hs-identifier">IOInvalid</span><span>
</span><span id="line-193"></span><span>  </span><span id="local-6989586621679080976"><span class="annot"><span class="annottext">enumFromThen :: IOCondition -&gt; IOCondition -&gt; [IOCondition]
</span><span class="hs-identifier hs-var hs-var hs-var">enumFromThen</span></span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>     </span><span class="annot"><span class="annottext">[Char] -&gt; [IOCondition]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Enum IOCondition: enumFromThen not implemented&quot;</span></span><span>
</span><span id="line-194"></span><span>  </span><span id="local-6989586621679080979"><span class="annot"><span class="annottext">enumFromThenTo :: IOCondition -&gt; IOCondition -&gt; IOCondition -&gt; [IOCondition]
</span><span class="hs-identifier hs-var hs-var hs-var">enumFromThenTo</span></span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IOCondition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>     </span><span class="annot"><span class="annottext">[Char] -&gt; [IOCondition]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Enum IOCondition: enumFromThenTo not implemented&quot;</span></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-pragma">{-# LINE 161 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-161"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier">Flags</span><span> </span><span class="hs-identifier">IOCondition</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-keyword">newtype</span><span> </span><span class="hs-identifier">IOChannel</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">IOChannel</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Ptr</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">IOChannel</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span class="hs-pragma">{-# LINE 164 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-164"></span><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">IOFunc</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">FunPtr</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">Ptr</span><span> </span><span class="hs-identifier">IOChannel</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CInt</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">Ptr</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">CInt</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span class="hs-pragma">{-# LINE 165 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">ccall</span><span> </span><span class="hs-string">&quot;wrapper&quot;</span><span> </span><span class="hs-identifier">mkIOFunc</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Ptr</span><span> </span><span class="hs-identifier">IOChannel</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">CInt</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Ptr</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">CInt</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">IOFunc</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-keyword">type</span><span> </span><span class="hs-identifier">FD</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">Int</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">-- | Adds the file descriptor into the main event loop with the given priority.</span><span>
</span><span id="line-171"></span><span class="hs-comment">--</span><span>
</span><span id="line-172"></span><span class="hs-identifier">inputAdd</span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-identifier">FD</span><span> </span><span class="hs-comment">-- ^ a file descriptor</span><span>
</span><span id="line-174"></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">IOCondition</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ the condition to watch for</span><span>
</span><span id="line-175"></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">Priority</span><span> </span><span class="hs-comment">-- ^ the priority of the event source</span><span>
</span><span id="line-176"></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">Bool</span><span> </span><span class="hs-comment">-- ^ the function to call when the condition is satisfied.</span><span>
</span><span id="line-177"></span><span>                  </span><span class="hs-comment">-- The function should return False if the event source</span><span>
</span><span id="line-178"></span><span>                  </span><span class="hs-comment">-- should be removed.</span><span>
</span><span id="line-179"></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">HandlerId</span><span> </span><span class="hs-comment">-- ^ the event source id</span><span>
</span><span id="line-180"></span><span class="hs-identifier">inputAdd</span><span> </span><span class="hs-identifier">fd</span><span> </span><span class="hs-identifier">conds</span><span> </span><span class="hs-identifier">pri</span><span> </span><span class="hs-identifier">fun</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-identifier">funPtr</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">mkIOFunc</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">liftM</span><span> </span><span class="hs-identifier">fromBool</span><span> </span><span class="hs-identifier">fun</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-identifier">channel</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">g_io_channel_unix_new</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-identifier">fd</span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-identifier">IOChannel</span><span> </span><span class="hs-identifier">arg1</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">arg2</span><span> </span><span class="hs-identifier">arg3</span><span> </span><span class="hs-identifier">arg4</span><span> </span><span class="hs-identifier">arg5</span><span> </span><span class="hs-identifier">arg6</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">g_io_add_watch_full</span><span> </span><span class="hs-identifier">arg1</span><span> </span><span class="hs-identifier">arg2</span><span> </span><span class="hs-identifier">arg3</span><span> </span><span class="hs-identifier">arg4</span><span> </span><span class="hs-identifier">arg5</span><span> </span><span class="hs-identifier">arg6</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span class="hs-pragma">{-# LINE 184 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">IOChannel</span><span> </span><span class="hs-identifier">channel</span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-identifier">pri</span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-identifier">fromIntegral</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">fromFlags</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">conds</span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span>    </span><span class="hs-identifier">funPtr</span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">castFunPtrToPtr</span><span> </span><span class="hs-identifier">funPtr</span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>    </span><span class="hs-identifier">destroyFunPtr</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-identifier">inputRemove</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">HandlerId</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span class="hs-identifier">inputRemove</span><span> </span><span class="hs-identifier">id</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">g_source_remove</span><span> </span><span class="hs-identifier">id</span><span> </span><span class="hs-operator">&gt;&gt;</span><span> </span><span class="hs-identifier">return</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="hs-comment">-- Standard priorities</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">-- | Priorities for installing callbacks.</span><span>
</span><span id="line-203"></span><span class="hs-comment">--</span><span>
</span><span id="line-204"></span><span class="hs-keyword">type</span><span> </span><span id="Priority"><span class="annot"><a href="System.Glib.MainLoop.html#Priority"><span class="hs-identifier hs-var">Priority</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="annot"><a href="System.Glib.MainLoop.html#priorityHigh"><span class="hs-identifier hs-type">priorityHigh</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-207"></span><span id="priorityHigh"><span class="annot"><span class="annottext">priorityHigh :: Priority
</span><a href="System.Glib.MainLoop.html#priorityHigh"><span class="hs-identifier hs-var hs-var">priorityHigh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Priority
</span><span class="hs-number">100</span></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="annot"><a href="System.Glib.MainLoop.html#priorityDefault"><span class="hs-identifier hs-type">priorityDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-210"></span><span id="priorityDefault"><span class="annot"><span class="annottext">priorityDefault :: Priority
</span><a href="System.Glib.MainLoop.html#priorityDefault"><span class="hs-identifier hs-var hs-var">priorityDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Priority
</span><span class="hs-number">0</span></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="annot"><a href="System.Glib.MainLoop.html#priorityHighIdle"><span class="hs-identifier hs-type">priorityHighIdle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-213"></span><span id="priorityHighIdle"><span class="annot"><span class="annottext">priorityHighIdle :: Priority
</span><a href="System.Glib.MainLoop.html#priorityHighIdle"><span class="hs-identifier hs-var hs-var">priorityHighIdle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Priority
</span><span class="hs-number">100</span></span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="annot"><a href="System.Glib.MainLoop.html#priorityDefaultIdle"><span class="hs-identifier hs-type">priorityDefaultIdle</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-216"></span><span id="priorityDefaultIdle"><span class="annot"><span class="annottext">priorityDefaultIdle :: Priority
</span><a href="System.Glib.MainLoop.html#priorityDefaultIdle"><span class="hs-identifier hs-var hs-var">priorityDefaultIdle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Priority
</span><span class="hs-number">200</span></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="annot"><a href="System.Glib.MainLoop.html#priorityLow"><span class="hs-identifier hs-type">priorityLow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-219"></span><span id="priorityLow"><span class="annot"><span class="annottext">priorityLow :: Priority
</span><a href="System.Glib.MainLoop.html#priorityLow"><span class="hs-identifier hs-var hs-var">priorityLow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Priority
</span><span class="hs-number">300</span></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><span class="hs-comment">-- | A main event loop abstraction.</span></span><span>
</span><span id="line-222"></span><span class="hs-keyword">newtype</span><span> </span><span id="MainLoop"><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-var">MainLoop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MainLoop"><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-var">MainLoop</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForeignPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span class="hs-pragma">{-# LINE 223 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | An opaque datatype representing a set of sources to be handled in</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- a main loop.</span><span>
</span><span id="line-226"></span><span class="hs-keyword">newtype</span><span> </span><span id="MainContext"><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-var">MainContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MainContext"><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-var">MainContext</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForeignPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span class="hs-pragma">{-# LINE 227 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><span class="hs-comment">-- | Create a new 'MainLoop'.</span></span><span>
</span><span id="line-229"></span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopNew"><span class="hs-identifier hs-type">mainLoopNew</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ @context@ - the context to use, or 'Nothing' to use the default context</span></span><span>
</span><span id="line-230"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ @isRunning@ - 'True' to indicate that the loop is running; 'False' otherwise</span></span><span>
</span><span id="line-231"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the new 'MainLoop'</span></span><span>
</span><span id="line-232"></span><span id="mainLoopNew"><span class="annot"><span class="annottext">mainLoopNew :: Maybe MainContext -&gt; Bool -&gt; IO MainLoop
</span><a href="System.Glib.MainLoop.html#mainLoopNew"><span class="hs-identifier hs-var hs-var">mainLoopNew</span></a></span></span><span> </span><span id="local-6989586621679080982"><span class="annot"><span class="annottext">Maybe MainContext
</span><a href="#local-6989586621679080982"><span class="hs-identifier hs-var">context</span></a></span></span><span> </span><span id="local-6989586621679080983"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679080983"><span class="hs-identifier hs-var">isRunning</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679080984"><span class="annot"><span class="annottext">context' :: MainContext
</span><a href="#local-6989586621679080984"><span class="hs-identifier hs-var hs-var hs-var">context'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MainContext
-&gt; (MainContext -&gt; MainContext) -&gt; Maybe MainContext -&gt; MainContext
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ForeignPtr MainContext -&gt; MainContext
</span><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-var">MainContext</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainContext
forall a. ForeignPtr a
</span><a href="System.Glib.FFI.html#nullForeignPtr"><span class="hs-identifier hs-var">nullForeignPtr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MainContext -&gt; MainContext
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">Maybe MainContext
</span><a href="#local-6989586621679080982"><span class="hs-identifier hs-var">context</span></a></span><span>
</span><span id="line-234"></span><span>       </span><span id="local-6989586621679080988"><span class="annot"><a href="#local-6989586621679080988"><span class="hs-identifier hs-var">loopPtr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span> </span><span id="local-6989586621679080989"><span class="annot"><span class="annottext">ForeignPtr MainContext
</span><a href="#local-6989586621679080989"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679080990"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679080990"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainContext
-&gt; (Ptr MainContext -&gt; IO (Ptr MainLoop)) -&gt; IO (Ptr MainLoop)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainContext
</span><a href="#local-6989586621679080989"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr MainContext -&gt; IO (Ptr MainLoop)) -&gt; IO (Ptr MainLoop))
-&gt; (Ptr MainContext -&gt; IO (Ptr MainLoop)) -&gt; IO (Ptr MainLoop)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679080992"><span class="annot"><span class="annottext">Ptr MainContext
</span><a href="#local-6989586621679080992"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr MainContext -&gt; CInt -&gt; IO (Ptr MainLoop)
</span><a href="System.Glib.MainLoop.html#g_main_loop_new"><span class="hs-identifier hs-var">g_main_loop_new</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr MainContext
</span><a href="#local-6989586621679080992"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679080990"><span class="hs-identifier hs-var">arg2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MainContext
</span><a href="#local-6989586621679080984"><span class="hs-identifier hs-var">context'</span></a></span><span> </span><span class="annot"><span class="annottext">(CInt -&gt; IO (Ptr MainLoop)) -&gt; CInt -&gt; IO (Ptr MainLoop)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; CInt
forall a. Num a =&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">fromBool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679080983"><span class="hs-identifier hs-var">isRunning</span></a></span><span>
</span><span id="line-235"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">liftM</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="System.Glib.FFI.html#newForeignPtr"><span class="hs-identifier hs-type">newForeignPtr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679080988"><span class="hs-identifier hs-type">loopPtr</span></a></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopFinalizer"><span class="hs-identifier hs-type">mainLoopFinalizer</span></a></span><span>
</span><span id="line-236"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;g_main_loop_unref&quot;</span></span><span>
</span><span id="line-237"></span><span>    </span><span id="mainLoopFinalizer"><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopFinalizer"><span class="hs-identifier hs-var">mainLoopFinalizer</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-comment">-- | Runs a main loop until 'mainLoopQuit' is called on the</span><span>
</span><span id="line-240"></span><span class="hs-comment">-- loop. If this is called for the thread of the loop's</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- 'MainContext', it will process events from the loop, otherwise it</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- will simply wait.</span><span>
</span><span id="line-243"></span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopRun"><span class="hs-identifier hs-type">mainLoopRun</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span>
</span><span id="line-244"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span id="mainLoopRun"><span class="annot"><span class="annottext">mainLoopRun :: MainLoop -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#mainLoopRun"><span class="hs-identifier hs-var hs-var">mainLoopRun</span></a></span></span><span> </span><span id="local-6989586621679080996"><span class="annot"><span class="annottext">MainLoop
</span><a href="#local-6989586621679080996"><span class="hs-identifier hs-var">loop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span> </span><span id="local-6989586621679080997"><span class="annot"><span class="annottext">ForeignPtr MainLoop
</span><a href="#local-6989586621679080997"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainLoop -&gt; (Ptr MainLoop -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainLoop
</span><a href="#local-6989586621679080997"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr MainLoop -&gt; IO ()) -&gt; IO ())
-&gt; (Ptr MainLoop -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679080998"><span class="annot"><span class="annottext">Ptr MainLoop
</span><a href="#local-6989586621679080998"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr MainLoop -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#g_main_loop_run"><span class="hs-identifier hs-var">g_main_loop_run</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr MainLoop
</span><a href="#local-6989586621679080998"><span class="hs-identifier hs-var">argPtr1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MainLoop
</span><a href="#local-6989586621679080996"><span class="hs-identifier hs-var">loop</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="hs-comment">-- | Stops a 'MainLoop' from running. Any calls to mainLoopRun for the</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- loop will return.</span><span>
</span><span id="line-250"></span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopQuit"><span class="hs-identifier hs-type">mainLoopQuit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span>
</span><span id="line-251"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span id="mainLoopQuit"><span class="annot"><span class="annottext">mainLoopQuit :: MainLoop -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#mainLoopQuit"><span class="hs-identifier hs-var hs-var">mainLoopQuit</span></a></span></span><span> </span><span id="local-6989586621679081000"><span class="annot"><span class="annottext">MainLoop
</span><a href="#local-6989586621679081000"><span class="hs-identifier hs-var">loop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span> </span><span id="local-6989586621679081001"><span class="annot"><span class="annottext">ForeignPtr MainLoop
</span><a href="#local-6989586621679081001"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainLoop -&gt; (Ptr MainLoop -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainLoop
</span><a href="#local-6989586621679081001"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr MainLoop -&gt; IO ()) -&gt; IO ())
-&gt; (Ptr MainLoop -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081002"><span class="annot"><span class="annottext">Ptr MainLoop
</span><a href="#local-6989586621679081002"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr MainLoop -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#g_main_loop_quit"><span class="hs-identifier hs-var">g_main_loop_quit</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr MainLoop
</span><a href="#local-6989586621679081002"><span class="hs-identifier hs-var">argPtr1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MainLoop
</span><a href="#local-6989586621679081000"><span class="hs-identifier hs-var">loop</span></a></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="annot"><span class="hs-comment">-- | Checks to see if the main loop is currently being run via mainLoopRun.</span></span><span>
</span><span id="line-256"></span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopIsRunning"><span class="hs-identifier hs-type">mainLoopIsRunning</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span>
</span><span id="line-257"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-258"></span><span id="mainLoopIsRunning"><span class="annot"><span class="annottext">mainLoopIsRunning :: MainLoop -&gt; IO Bool
</span><a href="System.Glib.MainLoop.html#mainLoopIsRunning"><span class="hs-identifier hs-var hs-var">mainLoopIsRunning</span></a></span></span><span> </span><span id="local-6989586621679081004"><span class="annot"><span class="annottext">MainLoop
</span><a href="#local-6989586621679081004"><span class="hs-identifier hs-var">loop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><span class="annottext">(CInt -&gt; Bool) -&gt; IO CInt -&gt; IO Bool
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Bool
forall a. (Eq a, Num a) =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">toBool</span></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO Bool) -&gt; IO CInt -&gt; IO Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span> </span><span id="local-6989586621679081006"><span class="annot"><span class="annottext">ForeignPtr MainLoop
</span><a href="#local-6989586621679081006"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainLoop -&gt; (Ptr MainLoop -&gt; IO CInt) -&gt; IO CInt
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainLoop
</span><a href="#local-6989586621679081006"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr MainLoop -&gt; IO CInt) -&gt; IO CInt)
-&gt; (Ptr MainLoop -&gt; IO CInt) -&gt; IO CInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081007"><span class="annot"><span class="annottext">Ptr MainLoop
</span><a href="#local-6989586621679081007"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr MainLoop -&gt; IO CInt
</span><a href="System.Glib.MainLoop.html#g_main_loop_is_running"><span class="hs-identifier hs-var">g_main_loop_is_running</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr MainLoop
</span><a href="#local-6989586621679081007"><span class="hs-identifier hs-var">argPtr1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MainLoop
</span><a href="#local-6989586621679081004"><span class="hs-identifier hs-var">loop</span></a></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="annot"><span class="hs-comment">-- | Gets a 'MainLoop's context.</span></span><span>
</span><span id="line-262"></span><span class="annot"><a href="System.Glib.MainLoop.html#mainLoopGetContext"><span class="hs-identifier hs-type">mainLoopGetContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span>
</span><span id="line-263"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span>
</span><span id="line-264"></span><span id="mainLoopGetContext"><span class="annot"><span class="annottext">mainLoopGetContext :: MainLoop -&gt; MainContext
</span><a href="System.Glib.MainLoop.html#mainLoopGetContext"><span class="hs-identifier hs-var hs-var">mainLoopGetContext</span></a></span></span><span> </span><span id="local-6989586621679081010"><span class="annot"><span class="annottext">MainLoop
</span><a href="#local-6989586621679081010"><span class="hs-identifier hs-var">loop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-265"></span><span>    </span><span class="annot"><span class="annottext">ForeignPtr MainContext -&gt; MainContext
</span><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-var">MainContext</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignPtr MainContext -&gt; MainContext)
-&gt; ForeignPtr MainContext -&gt; MainContext
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO (ForeignPtr MainContext) -&gt; ForeignPtr MainContext
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (ForeignPtr MainContext) -&gt; ForeignPtr MainContext)
-&gt; IO (ForeignPtr MainContext) -&gt; ForeignPtr MainContext
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-266"></span><span>        </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span> </span><span id="local-6989586621679081012"><span class="annot"><span class="annottext">ForeignPtr MainLoop
</span><a href="#local-6989586621679081012"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainLoop
-&gt; (Ptr MainLoop -&gt; IO (Ptr MainContext)) -&gt; IO (Ptr MainContext)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainLoop
</span><a href="#local-6989586621679081012"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr MainLoop -&gt; IO (Ptr MainContext)) -&gt; IO (Ptr MainContext))
-&gt; (Ptr MainLoop -&gt; IO (Ptr MainContext)) -&gt; IO (Ptr MainContext)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081013"><span class="annot"><span class="annottext">Ptr MainLoop
</span><a href="#local-6989586621679081013"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr MainLoop -&gt; IO (Ptr MainContext)
</span><a href="System.Glib.MainLoop.html#g_main_loop_get_context"><span class="hs-identifier hs-var">g_main_loop_get_context</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr MainLoop
</span><a href="#local-6989586621679081013"><span class="hs-identifier hs-var">argPtr1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MainLoop
</span><a href="#local-6989586621679081010"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Ptr MainContext)
-&gt; (Ptr MainContext -&gt; IO (ForeignPtr MainContext))
-&gt; IO (ForeignPtr MainContext)
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span>
</span><span id="line-267"></span><span>            </span><span class="annot"><span class="annottext">(Ptr MainContext
 -&gt; FinalizerPtr MainContext -&gt; IO (ForeignPtr MainContext))
-&gt; FinalizerPtr MainContext
-&gt; Ptr MainContext
-&gt; IO (ForeignPtr MainContext)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Ptr MainContext
-&gt; FinalizerPtr MainContext -&gt; IO (ForeignPtr MainContext)
forall a. Ptr a -&gt; FinalizerPtr a -&gt; IO (ForeignPtr a)
</span><a href="System.Glib.FFI.html#newForeignPtr"><span class="hs-identifier hs-var">newForeignPtr</span></a></span><span> </span><span class="annot"><span class="annottext">FinalizerPtr MainContext
</span><a href="System.Glib.MainLoop.html#mainContextFinalizer"><span class="hs-identifier hs-var">mainContextFinalizer</span></a></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;g_main_context_unref&quot;</span></span><span>
</span><span id="line-270"></span><span>    </span><span id="mainContextFinalizer"><span class="annot"><a href="System.Glib.MainLoop.html#mainContextFinalizer"><span class="hs-identifier hs-var">mainContextFinalizer</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="annot"><span class="hs-comment">-- | Creates a new 'MainContext'.</span></span><span>
</span><span id="line-273"></span><span class="annot"><a href="System.Glib.MainLoop.html#mainContextNew"><span class="hs-identifier hs-type">mainContextNew</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span>
</span><span id="line-274"></span><span id="mainContextNew"><span class="annot"><span class="annottext">mainContextNew :: IO MainContext
</span><a href="System.Glib.MainLoop.html#mainContextNew"><span class="hs-identifier hs-var hs-var">mainContextNew</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-275"></span><span>    </span><span class="annot"><span class="annottext">IO (Ptr MainContext) -&gt; IO MainContext
</span><a href="System.Glib.MainLoop.html#newContextMarshal"><span class="hs-identifier hs-var">newContextMarshal</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Ptr MainContext)
</span><a href="System.Glib.MainLoop.html#g_main_context_new"><span class="hs-identifier hs-var">g_main_context_new</span></a></span><span>
</span><span id="line-276"></span><span class="hs-pragma">{-# LINE 276 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="hs-comment">-- | The default 'MainContext'. This is the main context used for main</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- loop functions when a main loop is not explicitly specified.</span><span>
</span><span id="line-279"></span><span class="annot"><a href="System.Glib.MainLoop.html#mainContextDefault"><span class="hs-identifier hs-type">mainContextDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span>
</span><span id="line-280"></span><span id="mainContextDefault"><span class="annot"><span class="annottext">mainContextDefault :: MainContext
</span><a href="System.Glib.MainLoop.html#mainContextDefault"><span class="hs-identifier hs-var hs-var">mainContextDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-281"></span><span>    </span><span class="annot"><span class="annottext">IO MainContext -&gt; MainContext
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO MainContext -&gt; MainContext) -&gt; IO MainContext -&gt; MainContext
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO (Ptr MainContext) -&gt; IO MainContext
</span><a href="System.Glib.MainLoop.html#newContextMarshal"><span class="hs-identifier hs-var">newContextMarshal</span></a></span><span> </span><span class="annot"><span class="annottext">IO (Ptr MainContext)
</span><a href="System.Glib.MainLoop.html#g_main_context_default"><span class="hs-identifier hs-var">g_main_context_default</span></a></span><span>
</span><span id="line-282"></span><span class="hs-pragma">{-# LINE 282 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span id="newContextMarshal"><span class="annot"><span class="annottext">newContextMarshal :: IO (Ptr MainContext) -&gt; IO MainContext
</span><a href="System.Glib.MainLoop.html#newContextMarshal"><span class="hs-identifier hs-var hs-var">newContextMarshal</span></a></span></span><span> </span><span id="local-6989586621679081022"><span class="annot"><span class="annottext">IO (Ptr MainContext)
</span><a href="#local-6989586621679081022"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679081023"><span class="annot"><a href="#local-6989586621679081023"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Ptr MainContext)
</span><a href="#local-6989586621679081022"><span class="hs-identifier hs-var">action</span></a></span><span>
</span><span id="line-285"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">liftM</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="System.Glib.FFI.html#newForeignPtr"><span class="hs-identifier hs-type">newForeignPtr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679081023"><span class="hs-identifier hs-type">ptr</span></a></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#mainContextFinalizer"><span class="hs-identifier hs-type">mainContextFinalizer</span></a></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-comment">-- | Runs a single iteration for the given main loop. This involves</span><span>
</span><span id="line-288"></span><span class="hs-comment">-- checking to see if any event sources are ready to be processed,</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- then if no events sources are ready and @mayBlock@ is 'True',</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- waiting for a source to become ready, then dispatching the</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- highest priority events sources that are ready. Note that even</span><span>
</span><span id="line-292"></span><span class="hs-comment">-- when @mayBlock@ is 'True', it is still possible for</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- 'mainContextIteration' to return 'False', since the the wait</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- may be interrupted for other reasons than an event source</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- becoming ready.</span><span>
</span><span id="line-296"></span><span class="annot"><a href="System.Glib.MainLoop.html#mainContextIteration"><span class="hs-identifier hs-type">mainContextIteration</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span>
</span><span id="line-297"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-298"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-299"></span><span id="mainContextIteration"><span class="annot"><span class="annottext">mainContextIteration :: MainContext -&gt; Bool -&gt; IO Bool
</span><a href="System.Glib.MainLoop.html#mainContextIteration"><span class="hs-identifier hs-var hs-var">mainContextIteration</span></a></span></span><span> </span><span id="local-6989586621679081024"><span class="annot"><span class="annottext">MainContext
</span><a href="#local-6989586621679081024"><span class="hs-identifier hs-var">context</span></a></span></span><span> </span><span id="local-6989586621679081025"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679081025"><span class="hs-identifier hs-var">mayBlock</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-300"></span><span>    </span><span class="annot"><span class="annottext">(CInt -&gt; Bool) -&gt; IO CInt -&gt; IO Bool
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Bool
forall a. (Eq a, Num a) =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">toBool</span></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO Bool) -&gt; IO CInt -&gt; IO Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span> </span><span id="local-6989586621679081026"><span class="annot"><span class="annottext">ForeignPtr MainContext
</span><a href="#local-6989586621679081026"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679081027"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679081027"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainContext -&gt; (Ptr MainContext -&gt; IO CInt) -&gt; IO CInt
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainContext
</span><a href="#local-6989586621679081026"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr MainContext -&gt; IO CInt) -&gt; IO CInt)
-&gt; (Ptr MainContext -&gt; IO CInt) -&gt; IO CInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081028"><span class="annot"><span class="annottext">Ptr MainContext
</span><a href="#local-6989586621679081028"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr MainContext -&gt; CInt -&gt; IO CInt
</span><a href="System.Glib.MainLoop.html#g_main_context_iteration"><span class="hs-identifier hs-var">g_main_context_iteration</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr MainContext
</span><a href="#local-6989586621679081028"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679081027"><span class="hs-identifier hs-var">arg2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MainContext
</span><a href="#local-6989586621679081024"><span class="hs-identifier hs-var">context</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; CInt
forall a. Num a =&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">fromBool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679081025"><span class="hs-identifier hs-var">mayBlock</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="annot"><a href="System.Glib.MainLoop.html#mainContextFindSourceById"><span class="hs-identifier hs-type">mainContextFindSourceById</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span>
</span><span id="line-303"></span><span>                          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier hs-type">HandlerId</span></a></span><span>
</span><span id="line-304"></span><span>                          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span>
</span><span id="line-305"></span><span id="mainContextFindSourceById"><span class="annot"><span class="annottext">mainContextFindSourceById :: MainContext -&gt; HandlerId -&gt; IO Source
</span><a href="System.Glib.MainLoop.html#mainContextFindSourceById"><span class="hs-identifier hs-var hs-var">mainContextFindSourceById</span></a></span></span><span> </span><span id="local-6989586621679081030"><span class="annot"><span class="annottext">MainContext
</span><a href="#local-6989586621679081030"><span class="hs-identifier hs-var">context</span></a></span></span><span> </span><span id="local-6989586621679081031"><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679081031"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-306"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span> </span><span id="local-6989586621679081032"><span class="annot"><span class="annottext">ForeignPtr MainContext
</span><a href="#local-6989586621679081032"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679081033"><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679081033"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainContext
-&gt; (Ptr MainContext -&gt; IO (Ptr ())) -&gt; IO (Ptr ())
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainContext
</span><a href="#local-6989586621679081032"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr MainContext -&gt; IO (Ptr ())) -&gt; IO (Ptr ()))
-&gt; (Ptr MainContext -&gt; IO (Ptr ())) -&gt; IO (Ptr ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081034"><span class="annot"><span class="annottext">Ptr MainContext
</span><a href="#local-6989586621679081034"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr MainContext -&gt; HandlerId -&gt; IO (Ptr ())
</span><a href="System.Glib.MainLoop.html#g_main_context_find_source_by_id"><span class="hs-identifier hs-var">g_main_context_find_source_by_id</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr MainContext
</span><a href="#local-6989586621679081034"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679081033"><span class="hs-identifier hs-var">arg2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MainContext
</span><a href="#local-6989586621679081030"><span class="hs-identifier hs-var">context</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HandlerId -&gt; HandlerId
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679081031"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO (Ptr ()) -&gt; (Ptr () -&gt; IO Source) -&gt; IO Source
forall a b. IO a -&gt; (a -&gt; IO b) -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Ptr Source -&gt; IO Source
</span><a href="System.Glib.MainLoop.html#newSource"><span class="hs-identifier hs-var">newSource</span></a></span><span> </span><span class="annot"><span class="annottext">(Ptr Source -&gt; IO Source)
-&gt; (Ptr () -&gt; Ptr Source) -&gt; Ptr () -&gt; IO Source
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Ptr () -&gt; Ptr Source
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="hs-keyword">newtype</span><span> </span><span id="Source"><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-var">Source</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Source"><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-var">Source</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ForeignPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span class="hs-pragma">{-# LINE 309 &quot;./System/Glib/MainLoop.chs&quot; #-}</span><span>
</span><span id="line-309"></span><span class="hs-identifier">newSource</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">Ptr</span><span> </span><span class="hs-identifier">Source</span><span>
</span><span id="line-310"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">IO</span><span> </span><span class="hs-identifier">Source</span><span>
</span><span id="line-311"></span><span id="newSource"><span class="annot"><span class="annottext">newSource :: Ptr Source -&gt; IO Source
</span><a href="System.Glib.MainLoop.html#newSource"><span class="hs-identifier hs-var hs-var">newSource</span></a></span></span><span> </span><span id="local-6989586621679081040"><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081040"><span class="hs-identifier hs-var">sourcePtr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-312"></span><span>    </span><span class="annot"><span class="annottext">(ForeignPtr Source -&gt; Source)
-&gt; IO (ForeignPtr Source) -&gt; IO Source
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source -&gt; Source
</span><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-var">Source</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (ForeignPtr Source) -&gt; IO Source)
-&gt; IO (ForeignPtr Source) -&gt; IO Source
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Ptr Source -&gt; FinalizerPtr Source -&gt; IO (ForeignPtr Source)
forall a. Ptr a -&gt; FinalizerPtr a -&gt; IO (ForeignPtr a)
</span><a href="System.Glib.FFI.html#newForeignPtr"><span class="hs-identifier hs-var">newForeignPtr</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081040"><span class="hs-identifier hs-var">sourcePtr</span></a></span><span> </span><span class="annot"><span class="annottext">FinalizerPtr Source
</span><a href="System.Glib.MainLoop.html#sourceFinalizer"><span class="hs-identifier hs-var">sourceFinalizer</span></a></span><span>
</span><span id="line-313"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;g_source_unref&quot;</span></span><span>
</span><span id="line-314"></span><span>    </span><span id="sourceFinalizer"><span class="annot"><a href="System.Glib.MainLoop.html#sourceFinalizer"><span class="hs-identifier hs-var">sourceFinalizer</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span class="annot"><a href="System.Glib.MainLoop.html#sourceAttach"><span class="hs-identifier hs-type">sourceAttach</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span>
</span><span id="line-317"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span>
</span><span id="line-318"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier hs-type">HandlerId</span></a></span><span>
</span><span id="line-319"></span><span id="sourceAttach"><span class="annot"><span class="annottext">sourceAttach :: Source -&gt; MainContext -&gt; IO HandlerId
</span><a href="System.Glib.MainLoop.html#sourceAttach"><span class="hs-identifier hs-var hs-var">sourceAttach</span></a></span></span><span> </span><span id="local-6989586621679081042"><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081042"><span class="hs-identifier hs-var">source</span></a></span></span><span> </span><span id="local-6989586621679081043"><span class="annot"><span class="annottext">MainContext
</span><a href="#local-6989586621679081043"><span class="hs-identifier hs-var">context</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">(HandlerId -&gt; HandlerId) -&gt; IO HandlerId -&gt; IO HandlerId
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">HandlerId -&gt; HandlerId
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(IO HandlerId -&gt; IO HandlerId) -&gt; IO HandlerId -&gt; IO HandlerId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span> </span><span id="local-6989586621679081044"><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081044"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span> </span><span id="local-6989586621679081045"><span class="annot"><span class="annottext">ForeignPtr MainContext
</span><a href="#local-6989586621679081045"><span class="hs-identifier hs-var">arg2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source -&gt; (Ptr Source -&gt; IO HandlerId) -&gt; IO HandlerId
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081044"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Source -&gt; IO HandlerId) -&gt; IO HandlerId)
-&gt; (Ptr Source -&gt; IO HandlerId) -&gt; IO HandlerId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081046"><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081046"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">ForeignPtr MainContext
-&gt; (Ptr MainContext -&gt; IO HandlerId) -&gt; IO HandlerId
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr MainContext
</span><a href="#local-6989586621679081045"><span class="hs-identifier hs-var">arg2</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr MainContext -&gt; IO HandlerId) -&gt; IO HandlerId)
-&gt; (Ptr MainContext -&gt; IO HandlerId) -&gt; IO HandlerId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081047"><span class="annot"><span class="annottext">Ptr MainContext
</span><a href="#local-6989586621679081047"><span class="hs-identifier hs-var">argPtr2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr Source -&gt; Ptr MainContext -&gt; IO HandlerId
</span><a href="System.Glib.MainLoop.html#g_source_attach"><span class="hs-identifier hs-var">g_source_attach</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081046"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr MainContext
</span><a href="#local-6989586621679081047"><span class="hs-identifier hs-var">argPtr2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081042"><span class="hs-identifier hs-var">source</span></a></span><span> </span><span class="annot"><span class="annottext">MainContext
</span><a href="#local-6989586621679081043"><span class="hs-identifier hs-var">context</span></a></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="annot"><a href="System.Glib.MainLoop.html#sourceSetPriority"><span class="hs-identifier hs-type">sourceSetPriority</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span>
</span><span id="line-323"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-324"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span id="sourceSetPriority"><span class="annot"><span class="annottext">sourceSetPriority :: Source -&gt; Priority -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#sourceSetPriority"><span class="hs-identifier hs-var hs-var">sourceSetPriority</span></a></span></span><span> </span><span id="local-6989586621679081049"><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081049"><span class="hs-identifier hs-var">source</span></a></span></span><span> </span><span id="local-6989586621679081050"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679081050"><span class="hs-identifier hs-var">priority</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span> </span><span id="local-6989586621679081051"><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081051"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679081052"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679081052"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source -&gt; (Ptr Source -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081051"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Source -&gt; IO ()) -&gt; IO ()) -&gt; (Ptr Source -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081053"><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081053"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr Source -&gt; CInt -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#g_source_set_priority"><span class="hs-identifier hs-var">g_source_set_priority</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081053"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679081052"><span class="hs-identifier hs-var">arg2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081049"><span class="hs-identifier hs-var">source</span></a></span><span> </span><span class="annot"><span class="annottext">(CInt -&gt; IO ()) -&gt; CInt -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Priority -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679081050"><span class="hs-identifier hs-var">priority</span></a></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="annot"><a href="System.Glib.MainLoop.html#sourceGetPriority"><span class="hs-identifier hs-type">sourceGetPriority</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span>
</span><span id="line-329"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-330"></span><span id="sourceGetPriority"><span class="annot"><span class="annottext">sourceGetPriority :: Source -&gt; IO Priority
</span><a href="System.Glib.MainLoop.html#sourceGetPriority"><span class="hs-identifier hs-var hs-var">sourceGetPriority</span></a></span></span><span> </span><span id="local-6989586621679081055"><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081055"><span class="hs-identifier hs-var">source</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><span class="annottext">(CInt -&gt; Priority) -&gt; IO CInt -&gt; IO Priority
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Priority
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO Priority) -&gt; IO CInt -&gt; IO Priority
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span> </span><span id="local-6989586621679081056"><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081056"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source -&gt; (Ptr Source -&gt; IO CInt) -&gt; IO CInt
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081056"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Source -&gt; IO CInt) -&gt; IO CInt)
-&gt; (Ptr Source -&gt; IO CInt) -&gt; IO CInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081057"><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081057"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr Source -&gt; IO CInt
</span><a href="System.Glib.MainLoop.html#g_source_get_priority"><span class="hs-identifier hs-var">g_source_get_priority</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081057"><span class="hs-identifier hs-var">argPtr1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081055"><span class="hs-identifier hs-var">source</span></a></span><span>
</span><span id="line-332"></span><span>
</span><span id="line-333"></span><span class="annot"><a href="System.Glib.MainLoop.html#sourceDestroy"><span class="hs-identifier hs-type">sourceDestroy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span>
</span><span id="line-334"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span id="sourceDestroy"><span class="annot"><span class="annottext">sourceDestroy :: Source -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#sourceDestroy"><span class="hs-identifier hs-var hs-var">sourceDestroy</span></a></span></span><span> </span><span id="local-6989586621679081059"><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081059"><span class="hs-identifier hs-var">source</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span> </span><span id="local-6989586621679081060"><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081060"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source -&gt; (Ptr Source -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081060"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Source -&gt; IO ()) -&gt; IO ()) -&gt; (Ptr Source -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081061"><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081061"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr Source -&gt; IO ()
</span><a href="System.Glib.MainLoop.html#g_source_destroy"><span class="hs-identifier hs-var">g_source_destroy</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081061"><span class="hs-identifier hs-var">argPtr1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081059"><span class="hs-identifier hs-var">source</span></a></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="annot"><a href="System.Glib.MainLoop.html#sourceIsDestroyed"><span class="hs-identifier hs-type">sourceIsDestroyed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span>
</span><span id="line-340"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-341"></span><span id="sourceIsDestroyed"><span class="annot"><span class="annottext">sourceIsDestroyed :: Source -&gt; IO Bool
</span><a href="System.Glib.MainLoop.html#sourceIsDestroyed"><span class="hs-identifier hs-var hs-var">sourceIsDestroyed</span></a></span></span><span> </span><span id="local-6989586621679081063"><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081063"><span class="hs-identifier hs-var">source</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-342"></span><span>    </span><span class="annot"><span class="annottext">(CInt -&gt; Bool) -&gt; IO CInt -&gt; IO Bool
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Bool
forall a. (Eq a, Num a) =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">toBool</span></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO Bool) -&gt; IO CInt -&gt; IO Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span> </span><span id="local-6989586621679081064"><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081064"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source -&gt; (Ptr Source -&gt; IO CInt) -&gt; IO CInt
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Source
</span><a href="#local-6989586621679081064"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Source -&gt; IO CInt) -&gt; IO CInt)
-&gt; (Ptr Source -&gt; IO CInt) -&gt; IO CInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679081065"><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081065"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr Source -&gt; IO CInt
</span><a href="System.Glib.MainLoop.html#g_source_is_destroyed"><span class="hs-identifier hs-var">g_source_is_destroyed</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Source
</span><a href="#local-6989586621679081065"><span class="hs-identifier hs-var">argPtr1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Source
</span><a href="#local-6989586621679081063"><span class="hs-identifier hs-var">source</span></a></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span class="annot"><a href="System.Glib.MainLoop.html#sourceRemove"><span class="hs-identifier hs-type">sourceRemove</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#HandlerId"><span class="hs-identifier hs-type">HandlerId</span></a></span><span>
</span><span id="line-346"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-347"></span><span id="sourceRemove"><span class="annot"><span class="annottext">sourceRemove :: HandlerId -&gt; IO Bool
</span><a href="System.Glib.MainLoop.html#sourceRemove"><span class="hs-identifier hs-var hs-var">sourceRemove</span></a></span></span><span> </span><span id="local-6989586621679081068"><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679081068"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-348"></span><span>    </span><span class="annot"><span class="annottext">(CInt -&gt; Bool) -&gt; IO CInt -&gt; IO Bool
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Bool
forall a. (Eq a, Num a) =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">toBool</span></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO Bool) -&gt; IO CInt -&gt; IO Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HandlerId -&gt; IO CInt
</span><a href="System.Glib.MainLoop.html#g_source_remove"><span class="hs-identifier hs-var">g_source_remove</span></a></span><span> </span><span class="annot"><span class="annottext">(HandlerId -&gt; IO CInt) -&gt; HandlerId -&gt; IO CInt
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HandlerId -&gt; HandlerId
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">HandlerId
</span><a href="#local-6989586621679081068"><span class="hs-identifier hs-var">tag</span></a></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_timeout_add_full&quot;</span></span><span>
</span><span id="line-351"></span><span>  </span><span id="g_timeout_add_full"><span class="annot"><a href="System.Glib.MainLoop.html#g_timeout_add_full"><span class="hs-identifier hs-var">g_timeout_add_full</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CUInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CUInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_source_remove&quot;</span></span><span>
</span><span id="line-354"></span><span>  </span><span id="g_source_remove"><span class="annot"><a href="System.Glib.MainLoop.html#g_source_remove"><span class="hs-identifier hs-var">g_source_remove</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CUInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_idle_add_full&quot;</span></span><span>
</span><span id="line-357"></span><span>  </span><span id="g_idle_add_full"><span class="annot"><a href="System.Glib.MainLoop.html#g_idle_add_full"><span class="hs-identifier hs-var">g_idle_add_full</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CUInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_io_channel_unix_new&quot;</span></span><span>
</span><span id="line-360"></span><span>  </span><span id="g_io_channel_unix_new"><span class="annot"><a href="System.Glib.MainLoop.html#g_io_channel_unix_new"><span class="hs-identifier hs-var">g_io_channel_unix_new</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOChannel"><span class="hs-identifier hs-type">IOChannel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_io_add_watch_full&quot;</span></span><span>
</span><span id="line-363"></span><span>  </span><span id="g_io_add_watch_full"><span class="annot"><a href="System.Glib.MainLoop.html#g_io_add_watch_full"><span class="hs-identifier hs-var">g_io_add_watch_full</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOChannel"><span class="hs-identifier hs-type">IOChannel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#IOChannel"><span class="hs-identifier hs-type">IOChannel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FunPtr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CUInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_main_loop_new&quot;</span></span><span>
</span><span id="line-366"></span><span>  </span><span id="g_main_loop_new"><span class="annot"><a href="System.Glib.MainLoop.html#g_main_loop_new"><span class="hs-identifier hs-var">g_main_loop_new</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_main_loop_run&quot;</span></span><span>
</span><span id="line-369"></span><span>  </span><span id="g_main_loop_run"><span class="annot"><a href="System.Glib.MainLoop.html#g_main_loop_run"><span class="hs-identifier hs-var">g_main_loop_run</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_main_loop_quit&quot;</span></span><span>
</span><span id="line-372"></span><span>  </span><span id="g_main_loop_quit"><span class="annot"><a href="System.Glib.MainLoop.html#g_main_loop_quit"><span class="hs-identifier hs-var">g_main_loop_quit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_main_loop_is_running&quot;</span></span><span>
</span><span id="line-375"></span><span>  </span><span id="g_main_loop_is_running"><span class="annot"><a href="System.Glib.MainLoop.html#g_main_loop_is_running"><span class="hs-identifier hs-var">g_main_loop_is_running</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_main_loop_get_context&quot;</span></span><span>
</span><span id="line-378"></span><span>  </span><span id="g_main_loop_get_context"><span class="annot"><a href="System.Glib.MainLoop.html#g_main_loop_get_context"><span class="hs-identifier hs-var">g_main_loop_get_context</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainLoop"><span class="hs-identifier hs-type">MainLoop</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_main_context_new&quot;</span></span><span>
</span><span id="line-381"></span><span>  </span><span id="g_main_context_new"><span class="annot"><a href="System.Glib.MainLoop.html#g_main_context_new"><span class="hs-identifier hs-var">g_main_context_new</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_main_context_default&quot;</span></span><span>
</span><span id="line-384"></span><span>  </span><span id="g_main_context_default"><span class="annot"><a href="System.Glib.MainLoop.html#g_main_context_default"><span class="hs-identifier hs-var">g_main_context_default</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_main_context_iteration&quot;</span></span><span>
</span><span id="line-387"></span><span>  </span><span id="g_main_context_iteration"><span class="annot"><a href="System.Glib.MainLoop.html#g_main_context_iteration"><span class="hs-identifier hs-var">g_main_context_iteration</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_main_context_find_source_by_id&quot;</span></span><span>
</span><span id="line-390"></span><span>  </span><span id="g_main_context_find_source_by_id"><span class="annot"><a href="System.Glib.MainLoop.html#g_main_context_find_source_by_id"><span class="hs-identifier hs-var">g_main_context_find_source_by_id</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CUInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_source_attach&quot;</span></span><span>
</span><span id="line-393"></span><span>  </span><span id="g_source_attach"><span class="annot"><a href="System.Glib.MainLoop.html#g_source_attach"><span class="hs-identifier hs-var">g_source_attach</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#MainContext"><span class="hs-identifier hs-type">MainContext</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CUInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span>
</span><span id="line-395"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_source_set_priority&quot;</span></span><span>
</span><span id="line-396"></span><span>  </span><span id="g_source_set_priority"><span class="annot"><a href="System.Glib.MainLoop.html#g_source_set_priority"><span class="hs-identifier hs-var">g_source_set_priority</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_source_get_priority&quot;</span></span><span>
</span><span id="line-399"></span><span>  </span><span id="g_source_get_priority"><span class="annot"><a href="System.Glib.MainLoop.html#g_source_get_priority"><span class="hs-identifier hs-var">g_source_get_priority</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>
</span><span id="line-401"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_source_destroy&quot;</span></span><span>
</span><span id="line-402"></span><span>  </span><span id="g_source_destroy"><span class="annot"><a href="System.Glib.MainLoop.html#g_source_destroy"><span class="hs-identifier hs-var">g_source_destroy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">safe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_source_is_destroyed&quot;</span></span><span>
</span><span id="line-405"></span><span>  </span><span id="g_source_is_destroyed"><span class="annot"><a href="System.Glib.MainLoop.html#g_source_is_destroyed"><span class="hs-identifier hs-var">g_source_is_destroyed</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="System.Glib.MainLoop.html#Source"><span class="hs-identifier hs-type">Source</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-406"></span></pre></body></html>