<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LINE 2 &quot;./Graphics/Rendering/Pango/GlyphStorage.chs&quot; #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# OPTIONS_HADDOCK hide #-}</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- -*-haskell-*-</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- GIMP Toolkit (GTK) Glyph Storage of Pango</span><span>
</span><span id="line-5"></span><span class="hs-comment">--</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Author : Axel Simon</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Created: 31 July 2005</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Copyright (C) 2005 Axel Simon</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- This library is free software; you can redistribute it and/or</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- modify it under the terms of the GNU Lesser General Public</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- License as published by the Free Software Foundation; either</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- version 2.1 of the License, or (at your option) any later version.</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- This library is distributed in the hope that it will be useful,</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- but WITHOUT ANY WARRANTY; without even the implied warranty of</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- Lesser General Public License for more details.</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">--</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- #hide</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- Maintainer : gtk2hs-users@lists.sourceforge.net</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- Stability : provisional</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- Portability : portable (depends on GHC)</span><span>
</span><span id="line-29"></span><span class="hs-comment">--</span><span>
</span><span id="line-30"></span><span class="hs-comment">--</span><span>
</span><span id="line-31"></span><span class="hs-comment">--</span><span>
</span><span id="line-32"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html"><span class="hs-identifier">Graphics.Rendering.Pango.GlyphStorage</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemExtents"><span class="hs-identifier">glyphItemExtents</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemExtentsRange"><span class="hs-identifier">glyphItemExtentsRange</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemIndexToX"><span class="hs-identifier">glyphItemIndexToX</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemXToIndex"><span class="hs-identifier">glyphItemXToIndex</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemGetLogicalWidths"><span class="hs-identifier">glyphItemGetLogicalWidths</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemSplit"><span class="hs-identifier">glyphItemSplit</span></a></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftM</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Glib.FFI</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.Types.html"><span class="hs-identifier">Graphics.Rendering.Pango.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.Types.html#Font"><span class="hs-identifier">Font</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Glib.UTFString</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html"><span class="hs-identifier">Graphics.Rendering.Pango.BasicTypes</span></a></span><span>
</span><span id="line-48"></span><span class="hs-pragma">{-# LINE 48 &quot;./Graphics/Rendering/Pango/GlyphStorage.chs&quot; #-}</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Graphics.Rendering.Pango.Structs</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">throwIO</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ArrayException</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IndexOutOfBounds</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-pragma">{-# LINE 52 &quot;./Graphics/Rendering/Pango/GlyphStorage.chs&quot; #-}</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-comment">--------------------</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- Methods</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-comment">-- | Ask for bounding rectangles of this glyph sequence.</span><span>
</span><span id="line-57"></span><span class="hs-comment">--</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- * Compute the ink and logical extents of a glyph string. The</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- logical size is used for positioning, the ink size is the smallest</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- bounding box that includes all character pixels. The ink size can be</span><span>
</span><span id="line-61"></span><span class="hs-comment">-- smaller or larger than the logical size.</span><span>
</span><span id="line-62"></span><span class="hs-comment">--</span><span>
</span><span id="line-63"></span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemExtents"><span class="hs-identifier hs-type">glyphItemExtents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.Structs.html#PangoRectangle"><span class="hs-identifier hs-type">PangoRectangle</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.Structs.html#PangoRectangle"><span class="hs-identifier hs-type">PangoRectangle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span id="glyphItemExtents"><span class="annot"><span class="annottext">glyphItemExtents :: GlyphItem -&gt; IO (PangoRectangle, PangoRectangle)
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemExtents"><span class="hs-identifier hs-var hs-var">glyphItemExtents</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span id="local-6989586621679099337"><span class="annot"><span class="annottext">PangoItem
</span><a href="#local-6989586621679099337"><span class="hs-identifier hs-var">pi</span></a></span></span><span> </span><span id="local-6989586621679099338"><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099338"><span class="hs-identifier hs-var">self</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-65"></span><span>  </span><span id="local-6989586621679099339"><span class="annot"><a href="#local-6989586621679099339"><span class="hs-identifier hs-var">font</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PangoItem -&gt; IO Font
</span><a href="Graphics.Rendering.Pango.Structs.html#pangoItemGetFont"><span class="hs-identifier hs-var">pangoItemGetFont</span></a></span><span> </span><span class="annot"><span class="annottext">PangoItem
</span><a href="#local-6989586621679099337"><span class="hs-identifier hs-var">pi</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">alloca</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099342"><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099342"><span class="hs-identifier hs-var">inkPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Ptr PangoRectangle -&gt; IO (PangoRectangle, PangoRectangle))
-&gt; IO (PangoRectangle, PangoRectangle)
forall a b. Storable a =&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">alloca</span></span><span> </span><span class="annot"><span class="annottext">((Ptr PangoRectangle -&gt; IO (PangoRectangle, PangoRectangle))
 -&gt; IO (PangoRectangle, PangoRectangle))
-&gt; (Ptr PangoRectangle -&gt; IO (PangoRectangle, PangoRectangle))
-&gt; IO (PangoRectangle, PangoRectangle)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099343"><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099343"><span class="hs-identifier hs-var">logPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span> </span><span id="local-6989586621679099345"><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099345"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.Types.html#Font"><span class="hs-identifier hs-type">Font</span></a></span><span> </span><span id="local-6989586621679099347"><span class="annot"><span class="annottext">ForeignPtr Font
</span><a href="#local-6989586621679099347"><span class="hs-identifier hs-var">arg2</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099348"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099348"><span class="hs-identifier hs-var">arg3</span></a></span></span><span> </span><span id="local-6989586621679099349"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099349"><span class="hs-identifier hs-var">arg4</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw -&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099345"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ())
-&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099351"><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099351"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">ForeignPtr Font -&gt; (Ptr Font -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Font
</span><a href="#local-6989586621679099347"><span class="hs-identifier hs-var">arg2</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Font -&gt; IO ()) -&gt; IO ()) -&gt; (Ptr Font -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099352"><span class="annot"><span class="annottext">Ptr Font
</span><a href="#local-6989586621679099352"><span class="hs-identifier hs-var">argPtr2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr GlyphStringRaw -&gt; Ptr Font -&gt; Ptr () -&gt; Ptr () -&gt; IO ()
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_extents"><span class="hs-identifier hs-var">pango_glyph_string_extents</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099351"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Font
</span><a href="#local-6989586621679099352"><span class="hs-identifier hs-var">argPtr2</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099348"><span class="hs-identifier hs-var">arg3</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099349"><span class="hs-identifier hs-var">arg4</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099338"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Font
</span><a href="#local-6989586621679099339"><span class="hs-identifier hs-var">font</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr PangoRectangle -&gt; Ptr ()
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099342"><span class="hs-identifier hs-var">inkPtr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr PangoRectangle -&gt; Ptr ()
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099343"><span class="hs-identifier hs-var">logPtr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>  </span><span id="local-6989586621679099355"><span class="annot"><a href="#local-6989586621679099355"><span class="hs-identifier hs-var">ink</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr PangoRectangle -&gt; IO PangoRectangle
forall a. Storable a =&gt; Ptr a -&gt; IO a
</span><span class="hs-identifier hs-var">peek</span></span><span> </span><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099342"><span class="hs-identifier hs-var">inkPtr</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span id="local-6989586621679099357"><span class="annot"><a href="#local-6989586621679099357"><span class="hs-identifier hs-var">log</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679099343"><span class="hs-identifier hs-type">logPtr</span></a></span><span>
</span><span id="line-71"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679099355"><span class="hs-identifier hs-type">ink</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099357"><span class="hs-identifier hs-type">log</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">-- | Ask for bounding rectangles for a sub-range of a glyph sequence.</span><span>
</span><span id="line-74"></span><span class="hs-comment">--</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- * The returned rectangles are relative to the given sub-range, that is,</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- the result of this function is the same as if 'glyphItemExtents'</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- were called on the sub-string.</span><span>
</span><span id="line-78"></span><span class="hs-comment">--</span><span>
</span><span id="line-79"></span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemExtentsRange"><span class="hs-identifier hs-type">glyphItemExtentsRange</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-80"></span><span>                           </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.Structs.html#PangoRectangle"><span class="hs-identifier hs-type">PangoRectangle</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.Structs.html#PangoRectangle"><span class="hs-identifier hs-type">PangoRectangle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span id="glyphItemExtentsRange"><span class="annot"><span class="annottext">glyphItemExtentsRange :: GlyphItem -&gt; Int -&gt; Int -&gt; IO (PangoRectangle, PangoRectangle)
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemExtentsRange"><span class="hs-identifier hs-var hs-var">glyphItemExtentsRange</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span id="local-6989586621679099358"><span class="annot"><span class="annottext">pi :: PangoItem
</span><a href="#local-6989586621679099358"><span class="hs-identifier hs-var">pi</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItem"><span class="hs-identifier hs-type">PangoItem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoString"><span class="hs-identifier hs-type">PangoString</span></a></span><span> </span><span id="local-6989586621679099361"><span class="annot"><span class="annottext">UTFCorrection
</span><a href="#local-6989586621679099361"><span class="hs-identifier hs-var">uc</span></a></span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr CChar
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PangoItemRaw
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099362"><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099362"><span class="hs-identifier hs-var">self</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>  </span><span id="local-6989586621679099363"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679099363"><span class="hs-identifier hs-var">start</span></a></span></span><span> </span><span id="local-6989586621679099364"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679099364"><span class="hs-identifier hs-var">end</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-84"></span><span>  </span><span id="local-6989586621679099365"><span class="annot"><a href="#local-6989586621679099365"><span class="hs-identifier hs-var">font</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PangoItem -&gt; IO Font
</span><a href="Graphics.Rendering.Pango.Structs.html#pangoItemGetFont"><span class="hs-identifier hs-var">pangoItemGetFont</span></a></span><span> </span><span class="annot"><span class="annottext">PangoItem
</span><a href="#local-6989586621679099358"><span class="hs-identifier hs-var">pi</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">alloca</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099366"><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099366"><span class="hs-identifier hs-var">logPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Ptr PangoRectangle -&gt; IO (PangoRectangle, PangoRectangle))
-&gt; IO (PangoRectangle, PangoRectangle)
forall a b. Storable a =&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">alloca</span></span><span> </span><span class="annot"><span class="annottext">((Ptr PangoRectangle -&gt; IO (PangoRectangle, PangoRectangle))
 -&gt; IO (PangoRectangle, PangoRectangle))
-&gt; (Ptr PangoRectangle -&gt; IO (PangoRectangle, PangoRectangle))
-&gt; IO (PangoRectangle, PangoRectangle)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099367"><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099367"><span class="hs-identifier hs-var">inkPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span> </span><span id="local-6989586621679099368"><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099368"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099369"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099369"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span id="local-6989586621679099370"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099370"><span class="hs-identifier hs-var">arg3</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.Types.html#Font"><span class="hs-identifier hs-type">Font</span></a></span><span> </span><span id="local-6989586621679099371"><span class="annot"><span class="annottext">ForeignPtr Font
</span><a href="#local-6989586621679099371"><span class="hs-identifier hs-var">arg4</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099372"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099372"><span class="hs-identifier hs-var">arg5</span></a></span></span><span> </span><span id="local-6989586621679099373"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099373"><span class="hs-identifier hs-var">arg6</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw -&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099368"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ())
-&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099374"><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099374"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">ForeignPtr Font -&gt; (Ptr Font -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr Font
</span><a href="#local-6989586621679099371"><span class="hs-identifier hs-var">arg4</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr Font -&gt; IO ()) -&gt; IO ()) -&gt; (Ptr Font -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099375"><span class="annot"><span class="annottext">Ptr Font
</span><a href="#local-6989586621679099375"><span class="hs-identifier hs-var">argPtr4</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
-&gt; CInt -&gt; CInt -&gt; Ptr Font -&gt; Ptr () -&gt; Ptr () -&gt; IO ()
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_extents_range"><span class="hs-identifier hs-var">pango_glyph_string_extents_range</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099374"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099369"><span class="hs-identifier hs-var">arg2</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099370"><span class="hs-identifier hs-var">arg3</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr Font
</span><a href="#local-6989586621679099375"><span class="hs-identifier hs-var">argPtr4</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099372"><span class="hs-identifier hs-var">arg5</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099373"><span class="hs-identifier hs-var">arg6</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099362"><span class="hs-identifier hs-var">self</span></a></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; UTFCorrection -&gt; Int
</span><span class="hs-identifier hs-var">ofsToUTF</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679099363"><span class="hs-identifier hs-var">start</span></a></span><span> </span><span class="annot"><span class="annottext">UTFCorrection
</span><a href="#local-6989586621679099361"><span class="hs-identifier hs-var">uc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; UTFCorrection -&gt; Int
</span><span class="hs-identifier hs-var">ofsToUTF</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679099364"><span class="hs-identifier hs-var">end</span></a></span><span> </span><span class="annot"><span class="annottext">UTFCorrection
</span><a href="#local-6989586621679099361"><span class="hs-identifier hs-var">uc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><span class="annottext">Font
</span><a href="#local-6989586621679099365"><span class="hs-identifier hs-var">font</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr PangoRectangle -&gt; Ptr ()
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099366"><span class="hs-identifier hs-var">logPtr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr PangoRectangle -&gt; Ptr ()
forall a b. Ptr a -&gt; Ptr b
</span><span class="hs-identifier hs-var">castPtr</span></span><span> </span><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099367"><span class="hs-identifier hs-var">inkPtr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>  </span><span id="local-6989586621679099378"><span class="annot"><a href="#local-6989586621679099378"><span class="hs-identifier hs-var">log</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr PangoRectangle -&gt; IO PangoRectangle
forall a. Storable a =&gt; Ptr a -&gt; IO a
</span><span class="hs-identifier hs-var">peek</span></span><span> </span><span class="annot"><span class="annottext">Ptr PangoRectangle
</span><a href="#local-6989586621679099366"><span class="hs-identifier hs-var">logPtr</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span id="local-6989586621679099379"><span class="annot"><a href="#local-6989586621679099379"><span class="hs-identifier hs-var">ink</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679099367"><span class="hs-identifier hs-type">inkPtr</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679099378"><span class="hs-identifier hs-type">log</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679099379"><span class="hs-identifier hs-type">ink</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="hs-comment">-- | Get the horizontal position of a character.</span><span>
</span><span id="line-94"></span><span class="hs-comment">--</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- * Clusters (e.g. \&quot;e\&quot; with an accent modifier) are divided up into equal</span><span>
</span><span id="line-96"></span><span class="hs-comment">-- portions.</span><span>
</span><span id="line-97"></span><span class="hs-comment">--</span><span>
</span><span id="line-98"></span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemIndexToX"><span class="hs-identifier hs-type">glyphItemIndexToX</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the rendered string</span></span><span>
</span><span id="line-99"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ the index into the string</span></span><span>
</span><span id="line-100"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-comment">-- ^ return the beginning (@False@) or the end</span><span>
</span><span id="line-101"></span><span>                            </span><span class="hs-comment">-- of the character</span><span>
</span><span id="line-102"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-103"></span><span id="glyphItemIndexToX"><span class="annot"><span class="annottext">glyphItemIndexToX :: GlyphItem -&gt; Int -&gt; Bool -&gt; IO Double
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemIndexToX"><span class="hs-identifier hs-var hs-var">glyphItemIndexToX</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItem"><span class="hs-identifier hs-type">PangoItem</span></a></span><span> </span><span id="local-6989586621679099380"><span class="annot"><span class="annottext">PangoString
</span><a href="#local-6989586621679099380"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679099381"><span class="annot"><span class="annottext">PangoItemRaw
</span><a href="#local-6989586621679099381"><span class="hs-identifier hs-var">pir</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099382"><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099382"><span class="hs-identifier hs-var">gs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099383"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679099383"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621679099384"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679099384"><span class="hs-identifier hs-var">beg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-104"></span><span>  </span><span class="annot"><span class="annottext">PangoItemRaw -&gt; (Ptr PangoItemRaw -&gt; IO Double) -&gt; IO Double
forall a. PangoItemRaw -&gt; (Ptr PangoItemRaw -&gt; IO a) -&gt; IO a
</span><a href="Graphics.Rendering.Pango.BasicTypes.html#withPangoItemRaw"><span class="hs-identifier hs-var">withPangoItemRaw</span></a></span><span> </span><span class="annot"><span class="annottext">PangoItemRaw
</span><a href="#local-6989586621679099381"><span class="hs-identifier hs-var">pir</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr PangoItemRaw -&gt; IO Double) -&gt; IO Double)
-&gt; (Ptr PangoItemRaw -&gt; IO Double) -&gt; IO Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099386"><span class="annot"><span class="annottext">Ptr PangoItemRaw
</span><a href="#local-6989586621679099386"><span class="hs-identifier hs-var">pirPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Ptr CInt -&gt; IO Double) -&gt; IO Double
forall a b. Storable a =&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">alloca</span></span><span> </span><span class="annot"><span class="annottext">((Ptr CInt -&gt; IO Double) -&gt; IO Double)
-&gt; (Ptr CInt -&gt; IO Double) -&gt; IO Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099387"><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099387"><span class="hs-identifier hs-var">intPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-105"></span><span>  </span><span class="annot"><span class="annottext">PangoString
-&gt; (UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO Double) -&gt; IO Double
forall a.
PangoString -&gt; (UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO a) -&gt; IO a
</span><a href="Graphics.Rendering.Pango.BasicTypes.html#withPangoString"><span class="hs-identifier hs-var">withPangoString</span></a></span><span> </span><span class="annot"><span class="annottext">PangoString
</span><a href="#local-6989586621679099380"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">((UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO Double) -&gt; IO Double)
-&gt; (UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO Double) -&gt; IO Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099389"><span class="annot"><span class="annottext">UTFCorrection
</span><a href="#local-6989586621679099389"><span class="hs-identifier hs-var">uc</span></a></span></span><span> </span><span id="local-6989586621679099390"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099390"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679099391"><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099391"><span class="hs-identifier hs-var">strPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span> </span><span id="local-6989586621679099392"><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099392"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099393"><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099393"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span id="local-6989586621679099394"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099394"><span class="hs-identifier hs-var">arg3</span></a></span></span><span> </span><span id="local-6989586621679099395"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099395"><span class="hs-identifier hs-var">arg4</span></a></span></span><span> </span><span id="local-6989586621679099396"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099396"><span class="hs-identifier hs-var">arg5</span></a></span></span><span> </span><span id="local-6989586621679099397"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099397"><span class="hs-identifier hs-var">arg6</span></a></span></span><span> </span><span id="local-6989586621679099398"><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099398"><span class="hs-identifier hs-var">arg7</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw -&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099392"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ())
-&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099399"><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099399"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
-&gt; Ptr CChar -&gt; CInt -&gt; Ptr () -&gt; CInt -&gt; CInt -&gt; Ptr CInt -&gt; IO ()
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_index_to_x"><span class="hs-identifier hs-var">pango_glyph_string_index_to_x</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099399"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099393"><span class="hs-identifier hs-var">arg2</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099394"><span class="hs-identifier hs-var">arg3</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099395"><span class="hs-identifier hs-var">arg4</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099396"><span class="hs-identifier hs-var">arg5</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099397"><span class="hs-identifier hs-var">arg6</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099398"><span class="hs-identifier hs-var">arg7</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099382"><span class="hs-identifier hs-var">gs</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099391"><span class="hs-identifier hs-var">strPtr</span></a></span><span>
</span><span id="line-107"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099390"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr PangoItemRaw -&gt; Ptr ()
forall a b. Ptr a -&gt; Ptr b
</span><a href="Graphics.Rendering.Pango.Structs.html#pangoItemRawAnalysis"><span class="hs-identifier hs-var">pangoItemRawAnalysis</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PangoItemRaw
</span><a href="#local-6989586621679099386"><span class="hs-identifier hs-var">pirPtr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; UTFCorrection -&gt; Int
</span><span class="hs-identifier hs-var">ofsToUTF</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679099383"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">UTFCorrection
</span><a href="#local-6989586621679099389"><span class="hs-identifier hs-var">uc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; CInt
forall a. Num a =&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">fromBool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679099384"><span class="hs-identifier hs-var">beg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099387"><span class="hs-identifier hs-var">intPtr</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span class="annot"><span class="annottext">(CInt -&gt; Double) -&gt; IO CInt -&gt; IO Double
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; Double
</span><a href="Graphics.Rendering.Pango.Structs.html#intToPu"><span class="hs-identifier hs-var">intToPu</span></a></span><span> </span><span class="annot"><span class="annottext">(IO CInt -&gt; IO Double) -&gt; IO CInt -&gt; IO Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Ptr CInt -&gt; IO CInt
forall a. Storable a =&gt; Ptr a -&gt; IO a
</span><span class="hs-identifier hs-var">peek</span></span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099387"><span class="hs-identifier hs-var">intPtr</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- | Get the character at the given horizontal position.</span><span>
</span><span id="line-112"></span><span class="hs-comment">--</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- * The position is clipped to the width of this line.</span><span>
</span><span id="line-114"></span><span class="hs-comment">--</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- * The function returns the position in the string that corresponds</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- to the given horizontal location. Furthermore, if the position lies</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- on the first half of the character, @False@ is returned.</span><span>
</span><span id="line-118"></span><span class="hs-comment">--</span><span>
</span><span id="line-119"></span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemXToIndex"><span class="hs-identifier hs-type">glyphItemXToIndex</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span id="glyphItemXToIndex"><span class="annot"><span class="annottext">glyphItemXToIndex :: GlyphItem -&gt; Double -&gt; IO (Int, Bool)
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemXToIndex"><span class="hs-identifier hs-var hs-var">glyphItemXToIndex</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItem"><span class="hs-identifier hs-type">PangoItem</span></a></span><span> </span><span id="local-6989586621679099404"><span class="annot"><span class="annottext">PangoString
</span><a href="#local-6989586621679099404"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679099405"><span class="annot"><span class="annottext">PangoItemRaw
</span><a href="#local-6989586621679099405"><span class="hs-identifier hs-var">pir</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099406"><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099406"><span class="hs-identifier hs-var">gs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099407"><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679099407"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><span class="annottext">PangoItemRaw
-&gt; (Ptr PangoItemRaw -&gt; IO (Int, Bool)) -&gt; IO (Int, Bool)
forall a. PangoItemRaw -&gt; (Ptr PangoItemRaw -&gt; IO a) -&gt; IO a
</span><a href="Graphics.Rendering.Pango.BasicTypes.html#withPangoItemRaw"><span class="hs-identifier hs-var">withPangoItemRaw</span></a></span><span> </span><span class="annot"><span class="annottext">PangoItemRaw
</span><a href="#local-6989586621679099405"><span class="hs-identifier hs-var">pir</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr PangoItemRaw -&gt; IO (Int, Bool)) -&gt; IO (Int, Bool))
-&gt; (Ptr PangoItemRaw -&gt; IO (Int, Bool)) -&gt; IO (Int, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099408"><span class="annot"><span class="annottext">Ptr PangoItemRaw
</span><a href="#local-6989586621679099408"><span class="hs-identifier hs-var">pirPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Ptr CInt -&gt; IO (Int, Bool)) -&gt; IO (Int, Bool)
forall a b. Storable a =&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">alloca</span></span><span> </span><span class="annot"><span class="annottext">((Ptr CInt -&gt; IO (Int, Bool)) -&gt; IO (Int, Bool))
-&gt; (Ptr CInt -&gt; IO (Int, Bool)) -&gt; IO (Int, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099409"><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099409"><span class="hs-identifier hs-var">intPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-122"></span><span>  </span><span class="annot"><span class="annottext">(Ptr CInt -&gt; IO (Int, Bool)) -&gt; IO (Int, Bool)
forall a b. Storable a =&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">alloca</span></span><span> </span><span class="annot"><span class="annottext">((Ptr CInt -&gt; IO (Int, Bool)) -&gt; IO (Int, Bool))
-&gt; (Ptr CInt -&gt; IO (Int, Bool)) -&gt; IO (Int, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099410"><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099410"><span class="hs-identifier hs-var">boolPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PangoString
-&gt; (UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO (Int, Bool))
-&gt; IO (Int, Bool)
forall a.
PangoString -&gt; (UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO a) -&gt; IO a
</span><a href="Graphics.Rendering.Pango.BasicTypes.html#withPangoString"><span class="hs-identifier hs-var">withPangoString</span></a></span><span> </span><span class="annot"><span class="annottext">PangoString
</span><a href="#local-6989586621679099404"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">((UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO (Int, Bool))
 -&gt; IO (Int, Bool))
-&gt; (UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO (Int, Bool))
-&gt; IO (Int, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099411"><span class="annot"><span class="annottext">UTFCorrection
</span><a href="#local-6989586621679099411"><span class="hs-identifier hs-var">uc</span></a></span></span><span> </span><span id="local-6989586621679099412"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099412"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679099413"><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099413"><span class="hs-identifier hs-var">strPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span> </span><span id="local-6989586621679099414"><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099414"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099415"><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099415"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span id="local-6989586621679099416"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099416"><span class="hs-identifier hs-var">arg3</span></a></span></span><span> </span><span id="local-6989586621679099417"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099417"><span class="hs-identifier hs-var">arg4</span></a></span></span><span> </span><span id="local-6989586621679099418"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099418"><span class="hs-identifier hs-var">arg5</span></a></span></span><span> </span><span id="local-6989586621679099419"><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099419"><span class="hs-identifier hs-var">arg6</span></a></span></span><span> </span><span id="local-6989586621679099420"><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099420"><span class="hs-identifier hs-var">arg7</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw -&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099414"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ())
-&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099421"><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099421"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
-&gt; Ptr CChar
-&gt; CInt
-&gt; Ptr ()
-&gt; CInt
-&gt; Ptr CInt
-&gt; Ptr CInt
-&gt; IO ()
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_x_to_index"><span class="hs-identifier hs-var">pango_glyph_string_x_to_index</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099421"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099415"><span class="hs-identifier hs-var">arg2</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099416"><span class="hs-identifier hs-var">arg3</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099417"><span class="hs-identifier hs-var">arg4</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099418"><span class="hs-identifier hs-var">arg5</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099419"><span class="hs-identifier hs-var">arg6</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099420"><span class="hs-identifier hs-var">arg7</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099406"><span class="hs-identifier hs-var">gs</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099413"><span class="hs-identifier hs-var">strPtr</span></a></span><span>
</span><span id="line-124"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099412"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr PangoItemRaw -&gt; Ptr ()
forall a b. Ptr a -&gt; Ptr b
</span><a href="Graphics.Rendering.Pango.Structs.html#pangoItemRawAnalysis"><span class="hs-identifier hs-var">pangoItemRawAnalysis</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PangoItemRaw
</span><a href="#local-6989586621679099408"><span class="hs-identifier hs-var">pirPtr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; CInt
</span><a href="Graphics.Rendering.Pango.Structs.html#puToInt"><span class="hs-identifier hs-var">puToInt</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621679099407"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>      </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099409"><span class="hs-identifier hs-var">intPtr</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099410"><span class="hs-identifier hs-var">boolPtr</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span id="local-6989586621679099424"><span class="annot"><a href="#local-6989586621679099424"><span class="hs-identifier hs-var">int</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr CInt -&gt; IO CInt
forall a. Storable a =&gt; Ptr a -&gt; IO a
</span><span class="hs-identifier hs-var">peek</span></span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099409"><span class="hs-identifier hs-var">intPtr</span></a></span><span>
</span><span id="line-127"></span><span>    </span><span id="local-6989586621679099425"><span class="annot"><a href="#local-6989586621679099425"><span class="hs-identifier hs-var">bool</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">peek</span></span><span> </span><span class="annot"><a href="#local-6989586621679099410"><span class="hs-identifier hs-type">boolPtr</span></a></span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ofsFromUTF</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">fromIntegral</span></span><span> </span><span class="annot"><a href="#local-6989586621679099424"><span class="hs-identifier hs-type">int</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679099411"><span class="hs-identifier hs-type">uc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">toBool</span></span><span> </span><span class="annot"><a href="#local-6989586621679099425"><span class="hs-identifier hs-type">bool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-comment">-- | Retrieve the width of every character in a string.</span><span>
</span><span id="line-131"></span><span class="hs-comment">--</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- * The boolean parameter</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- determines if the returned array starts with the leftmost glyph</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- (@False@) or with the rightmost glyph (@True@). If @Nothing@ is</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- passed in, the direction is taken from the 'GlyphItem', i.e.,</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- the array starts with the leftmost glyph for left-to-right text</span><span>
</span><span id="line-137"></span><span class="hs-comment">-- and with the rightmost glyph for right-to-left text. When multiple</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- characters compose a single glyph, the width of this glyph is</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- divided among the characters that compose this cluster.</span><span>
</span><span id="line-140"></span><span class="hs-comment">--</span><span>
</span><span id="line-141"></span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemGetLogicalWidths"><span class="hs-identifier hs-type">glyphItemGetLogicalWidths</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">]</span><span>
</span><span id="line-142"></span><span id="glyphItemGetLogicalWidths"><span class="annot"><span class="annottext">glyphItemGetLogicalWidths :: GlyphItem -&gt; Maybe Bool -&gt; IO [Double]
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemGetLogicalWidths"><span class="hs-identifier hs-var hs-var">glyphItemGetLogicalWidths</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItem"><span class="hs-identifier hs-type">PangoItem</span></a></span><span> </span><span id="local-6989586621679099428"><span class="annot"><span class="annottext">PangoString
</span><a href="#local-6989586621679099428"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679099429"><span class="annot"><span class="annottext">PangoItemRaw
</span><a href="#local-6989586621679099429"><span class="hs-identifier hs-var">pir</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099430"><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099430"><span class="hs-identifier hs-var">gs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099431"><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621679099431"><span class="hs-identifier hs-var">mDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-143"></span><span>  </span><span id="local-6989586621679099432"><span class="annot"><a href="#local-6989586621679099432"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621679099431"><span class="hs-identifier hs-var">mDir</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-144"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679099433"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679099433"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; IO Bool
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679099433"><span class="hs-identifier hs-var">dir</span></a></span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><span class="annottext">Maybe Bool
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PangoItemRaw -&gt; (Ptr PangoItemRaw -&gt; IO Bool) -&gt; IO Bool
forall a. PangoItemRaw -&gt; (Ptr PangoItemRaw -&gt; IO a) -&gt; IO a
</span><a href="Graphics.Rendering.Pango.BasicTypes.html#withPangoItemRaw"><span class="hs-identifier hs-var">withPangoItemRaw</span></a></span><span> </span><span class="annot"><span class="annottext">PangoItemRaw
</span><a href="#local-6989586621679099429"><span class="hs-identifier hs-var">pir</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PangoItemRaw -&gt; IO Bool
forall pangoItem. Ptr pangoItem -&gt; IO Bool
</span><a href="Graphics.Rendering.Pango.Structs.html#pangoItemRawGetLevel"><span class="hs-identifier hs-var">pangoItemRawGetLevel</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#withPangoString"><span class="hs-identifier hs-type">withPangoString</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099428"><span class="hs-identifier hs-type">ps</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099435"><span class="annot"><span class="annottext">UTFCorrection
</span><a href="#local-6989586621679099435"><span class="hs-identifier hs-var">uc</span></a></span></span><span> </span><span id="local-6989586621679099436"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099436"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679099437"><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099437"><span class="hs-identifier hs-var">strPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-147"></span><span>    </span><span id="local-6989586621679099438"><span class="annot"><a href="#local-6989586621679099438"><span class="hs-identifier hs-var">logLen</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ptr CChar -&gt; CLong -&gt; IO CLong
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#g_utf8_strlen"><span class="hs-identifier hs-var">g_utf8_strlen</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099437"><span class="hs-identifier hs-var">strPtr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt -&gt; CLong
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099436"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">allocaArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">fromIntegral</span></span><span> </span><span class="annot"><a href="#local-6989586621679099438"><span class="hs-identifier hs-type">logLen</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099441"><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099441"><span class="hs-identifier hs-var">arrPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-149"></span><span>      </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span> </span><span id="local-6989586621679099442"><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099442"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099443"><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099443"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span id="local-6989586621679099444"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099444"><span class="hs-identifier hs-var">arg3</span></a></span></span><span> </span><span id="local-6989586621679099445"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099445"><span class="hs-identifier hs-var">arg4</span></a></span></span><span> </span><span id="local-6989586621679099446"><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099446"><span class="hs-identifier hs-var">arg5</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw -&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099442"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ())
-&gt; (Ptr GlyphStringRaw -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099447"><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099447"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
-&gt; Ptr CChar -&gt; CInt -&gt; CInt -&gt; Ptr CInt -&gt; IO ()
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_get_logical_widths"><span class="hs-identifier hs-var">pango_glyph_string_get_logical_widths</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099447"><span class="hs-identifier hs-var">argPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099443"><span class="hs-identifier hs-var">arg2</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099444"><span class="hs-identifier hs-var">arg3</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099445"><span class="hs-identifier hs-var">arg4</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099446"><span class="hs-identifier hs-var">arg5</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span class="hs-pragma">{-# LINE 150 &quot;./Graphics/Rendering/Pango/GlyphStorage.chs&quot; #-}</span><span>
</span><span id="line-150"></span><span>        </span><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099430"><span class="hs-identifier hs-var">gs</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099437"><span class="hs-identifier hs-var">strPtr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099436"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; CInt
forall a. Num a =&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">fromBool</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679099432"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099441"><span class="hs-identifier hs-var">arrPtr</span></a></span><span>
</span><span id="line-151"></span><span>      </span><span id="local-6989586621679099449"><span class="annot"><a href="#local-6989586621679099449"><span class="hs-identifier hs-var">elems</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Ptr CInt -&gt; IO [CInt]
forall a. Storable a =&gt; Int -&gt; Ptr a -&gt; IO [a]
</span><span class="hs-identifier hs-var">peekArray</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLong -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679099438"><span class="hs-identifier hs-var">logLen</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr CInt
</span><a href="#local-6989586621679099441"><span class="hs-identifier hs-var">arrPtr</span></a></span><span>
</span><span id="line-152"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.Structs.html#intToPu"><span class="hs-identifier hs-type">intToPu</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099449"><span class="hs-identifier hs-type">elems</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-comment">-- | Split a 'GlyphItem' at the given index.</span><span>
</span><span id="line-156"></span><span class="hs-comment">--</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- * The given 'GlyphItem' is split at the given index. The index must be</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- at least one and not greater or equal to length, i.e. the item must</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- be split into two non-empty segments. The function throws an</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- 'ArrayException' if the index is out of bounds.</span><span>
</span><span id="line-161"></span><span class="hs-comment">--</span><span>
</span><span id="line-162"></span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemSplit"><span class="hs-identifier hs-type">glyphItemSplit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span id="glyphItemSplit"><span class="annot"><span class="annottext">glyphItemSplit :: GlyphItem -&gt; Int -&gt; IO (GlyphItem, GlyphItem)
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#glyphItemSplit"><span class="hs-identifier hs-var hs-var">glyphItemSplit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItem"><span class="hs-identifier hs-type">PangoItem</span></a></span><span> </span><span id="local-6989586621679099451"><span class="annot"><span class="annottext">PangoString
</span><a href="#local-6989586621679099451"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621679099452"><span class="annot"><span class="annottext">PangoItemRaw
</span><a href="#local-6989586621679099452"><span class="hs-identifier hs-var">pir</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099453"><span class="annot"><span class="annottext">GlyphStringRaw
</span><a href="#local-6989586621679099453"><span class="hs-identifier hs-var">gs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679099454"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679099454"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-164"></span><span>  </span><span id="local-6989586621679099455"><span class="annot"><a href="#local-6989586621679099455"><span class="hs-identifier hs-var">pirPtr1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItemRaw"><span class="hs-identifier hs-type">PangoItemRaw</span></a></span><span> </span><span id="local-6989586621679099457"><span class="annot"><span class="annottext">ForeignPtr PangoItemRaw
</span><a href="#local-6989586621679099457"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr PangoItemRaw
-&gt; (Ptr PangoItemRaw -&gt; IO (Ptr PangoItemRaw))
-&gt; IO (Ptr PangoItemRaw)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr PangoItemRaw
</span><a href="#local-6989586621679099457"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr PangoItemRaw -&gt; IO (Ptr PangoItemRaw))
 -&gt; IO (Ptr PangoItemRaw))
-&gt; (Ptr PangoItemRaw -&gt; IO (Ptr PangoItemRaw))
-&gt; IO (Ptr PangoItemRaw)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099458"><span class="annot"><span class="annottext">Ptr PangoItemRaw
</span><a href="#local-6989586621679099458"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr PangoItemRaw -&gt; IO (Ptr PangoItemRaw)
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_item_copy"><span class="hs-identifier hs-var">pango_item_copy</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PangoItemRaw
</span><a href="#local-6989586621679099458"><span class="hs-identifier hs-var">argPtr1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PangoItemRaw
</span><a href="#local-6989586621679099452"><span class="hs-identifier hs-var">pir</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span id="local-6989586621679099460"><span class="annot"><a href="#local-6989586621679099460"><span class="hs-identifier hs-var">gsrPtr1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span> </span><span id="local-6989586621679099461"><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099461"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
-&gt; (Ptr GlyphStringRaw -&gt; IO (Ptr GlyphStringRaw))
-&gt; IO (Ptr GlyphStringRaw)
forall a b. ForeignPtr a -&gt; (Ptr a -&gt; IO b) -&gt; IO b
</span><span class="hs-identifier hs-var">withForeignPtr</span></span><span> </span><span class="annot"><span class="annottext">ForeignPtr GlyphStringRaw
</span><a href="#local-6989586621679099461"><span class="hs-identifier hs-var">arg1</span></a></span><span> </span><span class="annot"><span class="annottext">((Ptr GlyphStringRaw -&gt; IO (Ptr GlyphStringRaw))
 -&gt; IO (Ptr GlyphStringRaw))
-&gt; (Ptr GlyphStringRaw -&gt; IO (Ptr GlyphStringRaw))
-&gt; IO (Ptr GlyphStringRaw)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099462"><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099462"><span class="hs-identifier hs-var">argPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span class="annot"><span class="annottext">Ptr GlyphStringRaw -&gt; IO (Ptr GlyphStringRaw)
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_copy"><span class="hs-identifier hs-var">pango_glyph_string_copy</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099462"><span class="hs-identifier hs-var">argPtr1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679099453"><span class="hs-identifier hs-type">gs</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621679099464"><span class="annot"><a href="#local-6989586621679099464"><span class="hs-identifier hs-var">pir1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#makeNewPangoItemRaw"><span class="hs-identifier hs-type">makeNewPangoItemRaw</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099455"><span class="hs-identifier hs-type">pirPtr1</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621679099466"><span class="annot"><a href="#local-6989586621679099466"><span class="hs-identifier hs-var">gsr1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#makeNewGlyphStringRaw"><span class="hs-identifier hs-type">makeNewGlyphStringRaw</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099460"><span class="hs-identifier hs-type">gsrPtr1</span></a></span><span>
</span><span id="line-168"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">allocaBytes</span></span><span> </span><span class="annot"><span class="hs-number">32</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099469"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099469"><span class="hs-identifier hs-var">giPtr1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679099470"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099470"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span id="local-6989586621679099471"><span class="annot"><span class="annottext">Ptr PangoItemRaw
</span><a href="#local-6989586621679099471"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Ptr () -&gt; Int -&gt; Ptr PangoItemRaw -&gt; IO ()
forall b. Ptr b -&gt; Int -&gt; Ptr PangoItemRaw -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099470"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr PangoItemRaw
</span><a href="#local-6989586621679099471"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-glyph">::</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItemRaw"><span class="hs-identifier hs-type">PangoItemRaw</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099469"><span class="hs-identifier hs-var">giPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr PangoItemRaw
</span><a href="#local-6989586621679099455"><span class="hs-identifier hs-var">pirPtr1</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679099473"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099473"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span id="local-6989586621679099474"><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099474"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Ptr () -&gt; Int -&gt; Ptr GlyphStringRaw -&gt; IO ()
forall b. Ptr b -&gt; Int -&gt; Ptr GlyphStringRaw -&gt; IO ()
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">pokeByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099473"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099474"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-glyph">::</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099469"><span class="hs-identifier hs-var">giPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr GlyphStringRaw
</span><a href="#local-6989586621679099460"><span class="hs-identifier hs-var">gsrPtr1</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span id="local-6989586621679099475"><span class="annot"><a href="#local-6989586621679099475"><span class="hs-identifier hs-var">giPtr2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PangoString
-&gt; (UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO (Ptr ()))
-&gt; IO (Ptr ())
forall a.
PangoString -&gt; (UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO a) -&gt; IO a
</span><a href="Graphics.Rendering.Pango.BasicTypes.html#withPangoString"><span class="hs-identifier hs-var">withPangoString</span></a></span><span> </span><span class="annot"><span class="annottext">PangoString
</span><a href="#local-6989586621679099451"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="annot"><span class="annottext">((UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO (Ptr ()))
 -&gt; IO (Ptr ()))
-&gt; (UTFCorrection -&gt; CInt -&gt; Ptr CChar -&gt; IO (Ptr ()))
-&gt; IO (Ptr ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679099476"><span class="annot"><span class="annottext">UTFCorrection
</span><a href="#local-6989586621679099476"><span class="hs-identifier hs-var">uc</span></a></span></span><span> </span><span id="local-6989586621679099477"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679099477"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679099478"><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099478"><span class="hs-identifier hs-var">strPtr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-172"></span><span>      </span><span class="annot"><span class="annottext">Ptr () -&gt; Ptr CChar -&gt; CInt -&gt; IO (Ptr ())
</span><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_item_split"><span class="hs-identifier hs-var">pango_glyph_item_split</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099469"><span class="hs-identifier hs-var">giPtr1</span></a></span><span> </span><span class="annot"><span class="annottext">Ptr CChar
</span><a href="#local-6989586621679099478"><span class="hs-identifier hs-var">strPtr</span></a></span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; UTFCorrection -&gt; Int
</span><span class="hs-identifier hs-var">ofsToUTF</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679099454"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">UTFCorrection
</span><a href="#local-6989586621679099476"><span class="hs-identifier hs-var">uc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621679099475"><span class="hs-identifier hs-type">giPtr2</span></a></span><span class="annot"><span class="hs-operator hs-type">==</span></span><span class="annot"><span class="hs-identifier hs-type">nullPtr</span></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-175"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">throwIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IndexOutOfBounds</span></span><span>
</span><span id="line-176"></span><span>         </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;Graphics.Rendering.Pango.GlyphStorage.&quot;</span></span><span class="annot"><span class="hs-operator hs-type">++</span></span><span>
</span><span id="line-177"></span><span>          </span><span class="annot"><span class="hs-string">&quot;glyphItemSplit: cannot split item at index &quot;</span></span><span class="annot"><span class="hs-operator hs-type">++</span></span><span class="annot"><span class="hs-identifier hs-type">show</span></span><span> </span><span class="annot"><a href="#local-6989586621679099454"><span class="hs-identifier hs-type">pos</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-178"></span><span>      </span><span id="local-6989586621679099482"><span class="annot"><a href="#local-6989586621679099482"><span class="hs-identifier hs-var">pirPtr2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679099483"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099483"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Ptr () -&gt; Int -&gt; IO (Ptr PangoItemRaw)
forall b. Ptr b -&gt; Int -&gt; IO (Ptr PangoItemRaw)
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; IO a
</span><span class="hs-identifier hs-var">peekByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099483"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItemRaw"><span class="hs-identifier hs-type">PangoItemRaw</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679099475"><span class="hs-identifier hs-type">giPtr2</span></a></span><span>
</span><span id="line-179"></span><span>      </span><span id="local-6989586621679099485"><span class="annot"><a href="#local-6989586621679099485"><span class="hs-identifier hs-var">gsrPtr2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679099486"><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099486"><span class="hs-identifier hs-var">ptr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Ptr () -&gt; Int -&gt; IO (Ptr GlyphStringRaw)
forall b. Ptr b -&gt; Int -&gt; IO (Ptr GlyphStringRaw)
forall a b. Storable a =&gt; Ptr b -&gt; Int -&gt; IO a
</span><span class="hs-identifier hs-var">peekByteOff</span></span><span> </span><span class="annot"><span class="annottext">Ptr ()
</span><a href="#local-6989586621679099486"><span class="hs-identifier hs-var">ptr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679099475"><span class="hs-identifier hs-type">giPtr2</span></a></span><span>
</span><span id="line-180"></span><span>      </span><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#g_free"><span class="hs-identifier hs-type">g_free</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099475"><span class="hs-identifier hs-type">giPtr2</span></a></span><span>
</span><span id="line-181"></span><span>      </span><span id="local-6989586621679099488"><span class="annot"><a href="#local-6989586621679099488"><span class="hs-identifier hs-var">pir2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#makeNewPangoItemRaw"><span class="hs-identifier hs-type">makeNewPangoItemRaw</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099482"><span class="hs-identifier hs-type">pirPtr2</span></a></span><span>
</span><span id="line-182"></span><span>      </span><span id="local-6989586621679099489"><span class="annot"><a href="#local-6989586621679099489"><span class="hs-identifier hs-var">gsr2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#makeNewGlyphStringRaw"><span class="hs-identifier hs-type">makeNewGlyphStringRaw</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099485"><span class="hs-identifier hs-type">gsrPtr2</span></a></span><span>
</span><span id="line-183"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItem"><span class="hs-identifier hs-type">PangoItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099451"><span class="hs-identifier hs-type">ps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099488"><span class="hs-identifier hs-type">pir2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679099489"><span class="hs-identifier hs-type">gsr2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-184"></span><span>              </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphItem"><span class="hs-identifier hs-type">GlyphItem</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItem"><span class="hs-identifier hs-type">PangoItem</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099451"><span class="hs-identifier hs-type">ps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679099464"><span class="hs-identifier hs-type">pir1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679099466"><span class="hs-identifier hs-type">gsr1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;pango_glyph_string_extents&quot;</span></span><span>
</span><span id="line-187"></span><span>  </span><span id="pango_glyph_string_extents"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_extents"><span class="hs-identifier hs-var">pango_glyph_string_extents</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.Types.html#Font"><span class="hs-identifier hs-type">Font</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;pango_glyph_string_extents_range&quot;</span></span><span>
</span><span id="line-190"></span><span>  </span><span id="pango_glyph_string_extents_range"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_extents_range"><span class="hs-identifier hs-var">pango_glyph_string_extents_range</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.Types.html#Font"><span class="hs-identifier hs-type">Font</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;pango_glyph_string_index_to_x&quot;</span></span><span>
</span><span id="line-193"></span><span>  </span><span id="pango_glyph_string_index_to_x"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_index_to_x"><span class="hs-identifier hs-var">pango_glyph_string_index_to_x</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CChar</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;pango_glyph_string_x_to_index&quot;</span></span><span>
</span><span id="line-196"></span><span>  </span><span id="pango_glyph_string_x_to_index"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_x_to_index"><span class="hs-identifier hs-var">pango_glyph_string_x_to_index</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CChar</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_utf8_strlen&quot;</span></span><span>
</span><span id="line-199"></span><span>  </span><span id="g_utf8_strlen"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#g_utf8_strlen"><span class="hs-identifier hs-var">g_utf8_strlen</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CChar</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;pango_glyph_string_get_logical_widths&quot;</span></span><span>
</span><span id="line-202"></span><span>  </span><span id="pango_glyph_string_get_logical_widths"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_get_logical_widths"><span class="hs-identifier hs-var">pango_glyph_string_get_logical_widths</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CChar</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;pango_item_copy&quot;</span></span><span>
</span><span id="line-205"></span><span>  </span><span id="pango_item_copy"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_item_copy"><span class="hs-identifier hs-var">pango_item_copy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItemRaw"><span class="hs-identifier hs-type">PangoItemRaw</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#PangoItemRaw"><span class="hs-identifier hs-type">PangoItemRaw</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;pango_glyph_string_copy&quot;</span></span><span>
</span><span id="line-208"></span><span>  </span><span id="pango_glyph_string_copy"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_string_copy"><span class="hs-identifier hs-var">pango_glyph_string_copy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><a href="Graphics.Rendering.Pango.BasicTypes.html#GlyphStringRaw"><span class="hs-identifier hs-type">GlyphStringRaw</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;pango_glyph_item_split&quot;</span></span><span>
</span><span id="line-211"></span><span>  </span><span id="pango_glyph_item_split"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#pango_glyph_item_split"><span class="hs-identifier hs-var">pango_glyph_item_split</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CChar</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">CInt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-keyword">foreign</span><span> </span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-keyword">ccall</span></span><span> </span><span class="annot"><span class="hs-keyword">unsafe</span></span><span> </span><span class="annot"><span class="hs-string">&quot;g_free&quot;</span></span><span>
</span><span id="line-214"></span><span>  </span><span id="g_free"><span class="annot"><a href="Graphics.Rendering.Pango.GlyphStorage.html#g_free"><span class="hs-identifier hs-var">g_free</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ptr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-215"></span></pre></body></html>